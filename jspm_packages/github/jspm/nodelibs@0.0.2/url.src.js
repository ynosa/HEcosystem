/*jshint strict:true node:true es5:true onevar:true laxcomma:true laxbreak:true eqeqeq:true immed:true latedef:true*/
!function(){"use strict";function t(t,n,r){if(t&&"object"==typeof t&&t.href)return t;if("string"!=typeof t)throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var s={},u=t;u=u.trim();var f=a.exec(u);if(f){f=f[0];var w=f.toLowerCase();s.protocol=w,u=u.substr(f.length)}if(r||f||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===u.substr(0,2);!E||f&&v[f]||(u=u.substr(2),s.slashes=!0)}if(!v[f]&&(E||f&&!m[f])){var _=u.indexOf("@");if(-1!==_){for(var S=u.slice(0,_),x=!0,M=0,L=h.length;L>M;M++)if(-1!==S.indexOf(h[M])){x=!1;break}x&&(s.auth=decodeURIComponent(S),u=u.substr(_+1))}for(var O=-1,M=0,L=c.length;L>M;M++){var A=u.indexOf(c[M]);-1!==A&&(0>O||O>A)&&(O=A)}-1!==O?(s.host=u.substr(0,O),u=u.substr(O)):(s.host=u,u="");for(var I=i(s.host),R=Object.keys(I),M=0,L=R.length;L>M;M++){var T=R[M];s[T]=I[T]}s.hostname=s.hostname||"";var B="["===s.hostname[0]&&"]"===s.hostname[s.hostname.length-1];if(s.hostname.length>p)s.hostname="";else if(!B)for(var C=s.hostname.split(/\./),M=0,L=C.length;L>M;M++){var N=C[M];if(N&&!N.match(d)){for(var U="",P=0,q=N.length;q>P;P++)U+=N.charCodeAt(P)>127?"x":N[P];if(!U.match(d)){var j=C.slice(0,M),k=C.slice(M+1),D=N.match(g);D&&(j.push(D[1]),k.unshift(D[2])),k.length&&(u="/"+k.join(".")+u),s.hostname=j.join(".");break}}}if(s.hostname=s.hostname.toLowerCase(),!B){for(var z=s.hostname.split("."),F=[],M=0;M<z.length;++M){var H=z[M];F.push(H.match(/[^A-Za-z0-9_-]/)?"xn--"+o.encode(H):H)}s.hostname=F.join(".")}s.host=(s.hostname||"")+(s.port?":"+s.port:""),s.href+=s.host,B&&(s.hostname=s.hostname.substr(1,s.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!y[w])for(var M=0,L=l.length;L>M;M++){var G=l[M],W=encodeURIComponent(G);W===G&&(W=escape(G)),u=u.split(G).join(W)}var Y=u.indexOf("#");-1!==Y&&(s.hash=u.substr(Y),u=u.slice(0,Y));var X=u.indexOf("?");return-1!==X?(s.search=u.substr(X),s.query=u.substr(X+1),n&&(s.query=b.parse(s.query)),u=u.slice(0,X)):n&&(s.search="",s.query={}),u&&(s.pathname=u),m[f]&&s.hostname&&!s.pathname&&(s.pathname="/"),(s.pathname||s.search)&&(s.path=(s.pathname?s.pathname:"")+(s.search?s.search:"")),s.href=e(s),s}function e(e){"string"==typeof e&&(e=t(e));var n=e.auth||"";n&&(n=encodeURIComponent(n),n=n.replace(/%3A/i,":"),n+="@");var r=e.protocol||"",i=e.pathname||"",o=e.hash||"",a=!1,s="";void 0!==e.host?a=n+e.host:void 0!==e.hostname&&(a=n+(-1===e.hostname.indexOf(":")?e.hostname:"["+e.hostname+"]"),e.port&&(a+=":"+e.port)),e.query&&"object"==typeof e.query&&Object.keys(e.query).length&&(s=b.stringify(e.query));var u=e.search||s&&"?"+s||"";return r&&":"!==r.substr(-1)&&(r+=":"),e.slashes||(!r||m[r])&&a!==!1?(a="//"+(a||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):a||(a=""),o&&"#"!==o.charAt(0)&&(o="#"+o),u&&"?"!==u.charAt(0)&&(u="?"+u),r+a+i+u+o}function n(t,n){return e(r(t,n))}function r(n,r){if(!n)return r;if(n=t(e(n),!1,!0),r=t(e(r),!1,!0),n.hash=r.hash,""===r.href)return n.href=e(n),n;if(r.slashes&&!r.protocol)return r.protocol=n.protocol,m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=e(r),r;if(r.protocol&&r.protocol!==n.protocol){if(!m[r.protocol])return r.href=e(r),r;if(n.protocol=r.protocol,!r.host&&!v[r.protocol]){for(var i=(r.pathname||"").split("/");i.length&&!(r.host=i.shift()););r.host||(r.host=""),r.hostname||(r.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),r.pathname=i.join("/")}return n.pathname=r.pathname,n.search=r.search,n.query=r.query,n.host=r.host||"",n.auth=r.auth,n.hostname=r.hostname||r.host,n.port=r.port,(void 0!==n.pathname||void 0!==n.search)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.slashes=n.slashes||r.slashes,n.href=e(n),n}var o=n.pathname&&"/"===n.pathname.charAt(0),a=void 0!==r.host||r.pathname&&"/"===r.pathname.charAt(0),s=a||o||n.host&&r.pathname,u=s,f=n.pathname&&n.pathname.split("/")||[],i=r.pathname&&r.pathname.split("/")||[],l=n.protocol&&!m[n.protocol];if(l&&(delete n.hostname,delete n.port,n.host&&(""===f[0]?f[0]=n.host:f.unshift(n.host)),delete n.host,r.protocol&&(delete r.hostname,delete r.port,r.host&&(""===i[0]?i[0]=r.host:i.unshift(r.host)),delete r.host),s=s&&(""===i[0]||""===f[0])),a)n.host=r.host||""===r.host?r.host:n.host,n.hostname=r.hostname||""===r.hostname?r.hostname:n.hostname,n.search=r.search,n.query=r.query,f=i;else if(i.length)f||(f=[]),f.pop(),f=f.concat(i),n.search=r.search,n.query=r.query;else if("search"in r){if(l){n.hostname=n.host=f.shift();var c=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;c&&(n.auth=c.shift(),n.host=n.hostname=c.shift())}return n.search=r.search,n.query=r.query,(void 0!==n.pathname||void 0!==n.search)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=e(n),n}if(!f.length)return delete n.pathname,n.search?delete n.path:n.path="/"+n.search,n.href=e(n),n;for(var h=f.slice(-1)[0],p=(n.host||r.host)&&("."===h||".."===h)||""===h,d=0,g=f.length;g>=0;g--)h=f[g],"."==h?f.splice(g,1):".."===h?(f.splice(g,1),d++):d&&(f.splice(g,1),d--);if(!s&&!u)for(;d--;d)f.unshift("..");!s||""===f[0]||f[0]&&"/"===f[0].charAt(0)||f.unshift(""),p&&"/"!==f.join("/").substr(-1)&&f.push("");var y=""===f[0]||f[0]&&"/"===f[0].charAt(0);if(l){n.hostname=n.host=y?"":f.length?f.shift():"";var c=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;c&&(n.auth=c.shift(),n.host=n.hostname=c.shift())}return s=s||n.host&&f.length,s&&!y&&f.unshift(""),n.pathname=f.join("/"),(void 0!==n.pathname||void 0!==n.search)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=r.auth||n.auth,n.slashes=n.slashes||r.slashes,n.href=e(n),n}function i(t){var e={},n=s.exec(t);return n&&(n=n[0],":"!==n&&(e.port=n.substr(1)),t=t.substr(0,t.length-n.length)),t&&(e.hostname=t),e}var o=require("./punycode");exports.parse=t,exports.resolve=n,exports.resolveObject=r,exports.format=e;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=["<",">",'"',"`"," ","\r","\n","	"],f=["{","}","|","\\","^","~","`"].concat(u),l=["'"].concat(u),c=["%","/","?",";","#"].concat(f).concat(l),h=["/","@","?","#"].concat(u),p=255,d=/^[a-zA-Z0-9][a-z0-9A-Z_-]{0,62}$/,g=/^([a-zA-Z0-9][a-z0-9A-Z_-]{0,62})(.*)$/,y={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=require("./querystring")}();
//# sourceMappingURL=jspm_packages\github\jspm\nodelibs@0.0.2/url.src.js.map