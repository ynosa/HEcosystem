process.EventEmitter||(process.EventEmitter=function(){});var EventEmitter=exports.EventEmitter=process.EventEmitter,isArray="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(t){this._events||(this._events={}),this._events.maxListeners=t},EventEmitter.prototype.emit=function(t){if("error"===t&&(!this._events||!this._events.error||isArray(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var n=this._events[t];if(!n)return!1;if("function"==typeof n){switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:var e=Array.prototype.slice.call(arguments,1);n.apply(this,e)}return!0}if(isArray(n)){for(var e=Array.prototype.slice.call(arguments,1),r=n.slice(),i=0,u=r.length;u>i;i++)r[i].apply(this,e);return!0}return!1},EventEmitter.prototype.addListener=function(t,n){if("function"!=typeof n)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",t,n),this._events[t])if(isArray(this._events[t])){if(!this._events[t].warned){var e;e=void 0!==this._events.maxListeners?this._events.maxListeners:defaultMaxListeners,e&&e>0&&this._events[t].length>e&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}this._events[t].push(n)}else this._events[t]=[this._events[t],n];else this._events[t]=n;return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(t,n){var e=this;return e.on(t,function r(){e.removeListener(t,r),n.apply(this,arguments)}),this},EventEmitter.prototype.removeListener=function(t,n){if("function"!=typeof n)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var e=this._events[t];if(isArray(e)){var r=e.indexOf(n);if(0>r)return this;e.splice(r,1),0==e.length&&delete this._events[t]}else this._events[t]===n&&delete this._events[t];return this},EventEmitter.prototype.removeAllListeners=function(t){return t&&this._events&&this._events[t]&&(this._events[t]=null),this},EventEmitter.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),isArray(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]};
//# sourceMappingURL=jspm_packages\github\jspm\nodelibs@0.0.2/events.js.map