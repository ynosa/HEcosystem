/*
 * Copyright (C) 2007-2014 Diego Perini
 * All rights reserved.
 *
 * nwmatcher-base.js - A fast CSS selector engine and matcher
 *
 * Author: Diego Perini <diego.perini at gmail com>
 * Version: 1.3.3
 * Created: 20070722
 * Release: 20140330
 *
 * License:
 *  http://javascript.nwbox.com/NWMatcher/MIT-LICENSE
 * Download:
 *  http://javascript.nwbox.com/NWMatcher/nwmatcher.js
 */
!function(t,e){"object"==typeof module&&"object"==typeof exports?(module.exports=function(t){t.console=console,t.parseInt=parseInt,t.Function=Function,t.Boolean=Boolean,t.Number=Number,t.RegExp=RegExp,t.String=String,t.Object=Object,t.Array=Array,t.Error=Error,t.Date=Date,t.Math=Math;var n=t.Object();return e(t,n),n},module.factory=e):(e(t,(t.NW||(t.NW=t.Object()))&&(t.NW.Dom||(t.NW.Dom=t.Object()))),t.NW.Dom.factory=e)}(this,function(t,e){var n,r,o,i,a,u,s,c,l,h,f,p="nwmatcher-1.3.3",d=e,m=t.document,g=m.documentElement,_=(t.Array.slice,"[#.:]?"),v="([~*^$|!]?={1})",E="[\\x20\\t\\n\\r\\f]*",y="[\\x20]|[>+~][^>+~]",N="(?:[-+]?\\d*n)?[-+]?\\d*",b="\"[^\"]*\"|'[^']*'",O="\\[.*\\]|\\(.*\\)|\\{.*\\}",T="(?:[-\\w]|[^\\x00-\\xa0]|\\\\.)",D="(?:-?[_a-zA-Z]{1}[-\\w]*|[^\\x00-\\xa0]+|\\\\.+)+",w="("+b+"|"+D+")",M=E+"("+T+"*:?"+T+"+)"+E+"(?:"+v+E+w+")?"+E,x=M.replace(w,"([\\x22\\x27]*)((?:\\\\?.)*?)\\3"),R="((?:"+N+"|"+b+"|"+_+"|"+T+"+|\\["+M+"\\]|\\(.+\\)|"+E+"|,)+)",I=".+",S="(?=[\\x20\\t\\n\\r\\f]*[^>+~(){}<>])(\\*|(?:"+_+D+")|"+y+"|\\["+M+"\\]|\\("+R+"\\)|\\{"+I+"\\}|(?:,|"+E+"))+",A=S.replace(R,".*"),C=t.RegExp(S,"g"),L=t.RegExp("^"+E+"|"+E+"$","g"),j=t.RegExp("([^,\\\\()[\\]]+|\\[[^[\\]]*\\]|\\[.*\\]|\\([^()]+\\)|\\(.*\\)|\\{[^{}]+\\}|\\{.*\\}|\\\\.)+","g"),P=t.RegExp("(\\["+M+"\\]|\\("+R+"\\)|\\\\.|[^\\x20\\t\\n\\r\\f>+~])+","g"),k=/[\x20\t\n\r\f]+/g,U=t.RegExp(D+"|^$"),H=t.Object({checked:1,disabled:1,ismap:1,multiple:1,readonly:1,selected:1}),q=t.Object({value:"defaultValue",checked:"defaultChecked",selected:"defaultSelected"}),F=t.Object({action:2,cite:2,codebase:2,data:2,href:2,longdesc:2,lowsrc:2,src:2,usemap:2}),V=t.Object(),Y=t.Object({"=":"n=='%m'","^=":"n.indexOf('%m')==0","*=":"n.indexOf('%m')>-1","|=":"(n+'-').indexOf('%m-')==0","~=":"(' '+n+' ').indexOf(' %m ')>-1","$=":"n.substr(n.length-'%m'.length)=='%m'"}),B=t.Object({ID:t.RegExp("^\\*?#("+T+"+)|"+O),TAG:t.RegExp("^("+T+"+)|"+O),CLASS:t.RegExp("^\\*?\\.("+T+"+$)|"+O)}),z=t.Object({universal:/^\*(.*)/,id:t.RegExp("^#("+T+"+)(.*)"),tagName:t.RegExp("^("+T+"+)(.*)"),className:t.RegExp("^\\.("+T+"+)(.*)"),attribute:t.RegExp("^\\["+x+"\\](.*)"),children:/^[\x20\t\n\r\f]*\>[\x20\t\n\r\f]*(.*)/,adjacent:/^[\x20\t\n\r\f]*\+[\x20\t\n\r\f]*(.*)/,relative:/^[\x20\t\n\r\f]*\~[\x20\t\n\r\f]*(.*)/,ancestor:/^[\x20\t\n\r\f]+(.*)/}),G="getElementsByTagName"in m,W="getElementsByClassName"in m,X="function"!=typeof m.addEventListener,Z=t.Object({href:1,lang:1,src:1,style:1,title:1,type:1,xmlns:1,"xml:lang":1,"xml:space":1}),$=X?".toUpperCase()":"",Q="r[r.length]=c[k];if(f&&false===f(c[k]))break main;else continue main;",K=X?'if(e.nodeName<"A")continue;':"",J=t.Object({CACHING:!1,SIMPLENOT:!0,UNIQUE_ID:!0,USE_HTML5:!0,VERBOSITY:!0}),te=function(e){if("string"==typeof e)return J[e];if("object"!=typeof e)return!1;for(var n in e)J[n]=!!e[n],"SIMPLENOT"==n&&(_e=t.Object(),ve=t.Object(),Ee=t.Object(),ye=t.Object());return C=t.RegExp(J.SIMPLENOT?S:A,"g"),!0},ee=function(t,e,n){for(var r,o=-1;(r=e[++o])&&!1!==n(t[t.length]=r););return t},ne=function(e){if(J.VERBOSITY)throw t.Error(e);t.console&&t.console.log&&t.console.log(e)},re=function(t,e){var n=m;i=t,m=t.ownerDocument||t,(e||n!==m)&&(g=m.documentElement,f="DiV"==m.createElement("DiV").nodeName,h=f||"string"!=typeof m.compatMode?function(){var t=m.createElement("div").style;return t&&(t.width=1)&&"1px"==t.width}():m.compatMode.indexOf("CSS")<0,J.CACHING&&d.setCache(!0,m))},oe=function(t,e){for(var n=0,r=null;(r=e[n])&&r.getAttribute("id")!=t;)++n;return r},ie="fileSize"in m?function(t,e){var n=null;return t=t.replace(/\\([^\\]{1})/g,"$1"),f||9!=e.nodeType?oe(t,e.getElementsByTagName("*")):(n=e.getElementById(t))&&n.name==t&&e.getElementsByName?oe(t,e.getElementsByName(t)):n}:function(t,e){return t=t.replace(/\\([^\\]{1})/g,"$1"),e.getElementById&&e.getElementById(t)||oe(t,e.getElementsByTagName("*"))},ae=function(t,e){return e||(e=m),i!==e&&re(e),ie(t,e)},ue=function(e,n){var r="*"==e,o=n,i=t.Array(),a=o.firstChild;for(r||(e=e.toUpperCase());o=a;)if(o.tagName>"@"&&(r||o.tagName.toUpperCase()==e)&&(i[i.length]=o),!(a=o.firstChild||o.nextSibling))for(;!a&&(o=o.parentNode)&&o!==n;)a=o.nextSibling;return i},se=function(t,e){return e=e.toLowerCase(),"object"==typeof t[e]?t.attributes[e]&&t.attributes[e].value||"":"type"==e?t.getAttribute(e)||"":F[e]?t.getAttribute(e,2)||"":H[e]?t.getAttribute(e)?e:"false":(t=t.getAttributeNode(e))&&t.value||""},ce=g.hasAttribute?function(t,e){return t.hasAttribute(e)}:function(t,e){return e=e.toLowerCase(),q[e]?!!t[q[e]]:(t=t.getAttributeNode(e),!(!t||!t.specified))},le=function(e,n,r){var o="string"==typeof e?e.match(j):e;if("string"==typeof n||(n=""),1==o.length)n+=fe(o[0],r?Q:"f&&f(k);return true;",r);else for(var i,a=-1,u=t.Object();i=o[++a];)i=i.replace(L,""),!u[i]&&(u[i]=!0)&&(n+=fe(i,r?Q:"f&&f(k);return true;",r));return r?t.Function("c,s,r,d,h,g,f,v","var N,n,x=0,k=-1,e;main:while((e=c[++k])){"+n+"}return r;"):t.Function("e,s,r,d,h,g,f,v","var N,n,x=0,k=e;"+n+"return false;")},he="var z=v[@]||(v[@]=[]),l=z.length-1;while(l>=0&&z[l]!==e)--l;if(l!==-1){break;}z[z.length]=e;",fe=function(t,e,n){for(var r,o,i,a,u,s,c=0;t;){if(c++,o=t.match(z.universal))r="";else if(o=t.match(z.id))e="if("+(f?'s.getAttribute(e,"id")':'(e.submit?s.getAttribute(e,"id"):e.id)')+'=="'+o[1]+'"){'+e+"}";else if(o=t.match(z.tagName))e="if(e.nodeName"+(f?'=="'+o[1]+'"':$+'=="'+o[1].toUpperCase()+'"')+"){"+e+"}";else if(o=t.match(z.className))e="if((n="+(f?'e.getAttribute("class")':"e.className")+')&&n.length&&(" "+'+(h?"n.toLowerCase()":"n")+".replace("+k+'," ")+" ").indexOf(" '+(h?o[1].toLowerCase():o[1])+' ")>-1){'+e+"}";else if(o=t.match(z.attribute)){if(o[2]&&!Y[o[2]])return ne('Unsupported operator in attribute selectors "'+t+'"'),"";u="false",o[4]&&(s=Z[o[1].toLowerCase()],o[4]=(s?o[4].toLowerCase():o[4]).replace(/\\([0-9a-f]{2,2})/g,"\\x$1").replace(/(\x22|\x27)/g,"\\$1")),o[2]&&o[4]&&(u=Y[o[2]])?u=u.replace(/\%m/g,o[4]):("!="==o[2]||"="==o[2])&&(u="n"+o[2]+'="'+o[4]+'"'),r="n=s."+(o[2]?"get":"has")+'Attribute(e,"'+o[1]+'")'+(s?".toLowerCase();":";"),e=r+"if("+(o[2]?u:"n")+"){"+e+"}"}else if(o=t.match(z.adjacent))e=(n?"":he.replace(/@/g,c))+e,e="var N"+c+'=e;while(e&&(e=e.previousSibling)){if(e.nodeName>"@"){'+e+"break;}}e=N"+c+";";else if(o=t.match(z.relative))e=(n?"":he.replace(/@/g,c))+e,e="var N"+c+"=e;e=e.parentNode.firstChild;while(e&&e!==N"+c+'){if(e.nodeName>"@"){'+e+"}e=e.nextSibling;}e=N"+c+";";else if(o=t.match(z.children))e=(n?"":he.replace(/@/g,c))+e,e="var N"+c+"=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){"+e+"break;}e=N"+c+";";else if(o=t.match(z.ancestor))e=(n?"":he.replace(/@/g,c))+e,e="var N"+c+"=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){"+e+"}e=N"+c+";";else{r=!1,a=!1;for(r in V)if((o=t.match(V[r].Expression))&&o[1]&&(i=V[r].Callback(o,e),e=i.source,a=i.status))break;if(!a)return ne('Unknown pseudo-class selector "'+t+'"'),"";if(!r)return ne('Unknown token in selector "'+t+'"'),""}if(!o)return ne('Invalid syntax in selector "'+t+'"'),"";t=o&&o[o.length-1]}return e},pe=function(t,e,r,o){var a;if(!(t&&t.nodeName>"@"))return ne("Invalid element argument"),!1;if("string"!=typeof e)return ne("Invalid selector argument"),!1;if(i!==r&&re(r||(r=t.ownerDocument)),e=e.replace(L,""),J.SHORTCUTS&&(e=d.shortcuts(e,t,r)),u!=e){if(!(a=e.match(C))||a[0]!=e)return ne('The string "'+e+'", is not a valid CSS selector'),!1;n=(a=e.match(j)).length<2,u=e,c=a}else a=c;return ve[e]&&_e[e]===r||(ve[e]=le(n?[e]:a,"",!1),_e[e]=r),ve[e](t,Ne,[],m,g,r,o,{})},de=function(t,e){return me(t,e,function(){return!1})[0]||null},me=function(e,n,u){var c,h,p,_,v,E=e;if(0===arguments.length)return ne("Not enough arguments"),[];if("string"!=typeof e)return[];if(n&&!/1|9|11/.test(n.nodeType))return ne("Invalid or illegal context element"),[];if(i!==n&&re(n||(n=m)),J.CACHING&&(p=d.loadResults(E,n,m,g)))return u?ee([],p,u):p;if(e=e.replace(L,""),J.SHORTCUTS&&(e=d.shortcuts(e,n)),c=s!=e){if(!(_=e.match(C))||_[0]!=e)return ne('The string "'+e+'", is not a valid CSS selector'),[];r=(_=e.match(j)).length<2,s=e,l=_}else _=l;if(11==n.nodeType)p=ue("*",n);else if(r){if(c&&(_=e.match(P),v=_[_.length-1],o=v.split(":not")[0],a=e.length-v.length),J.UNIQUE_ID&&(_=o.match(B.ID))&&(v=_[1])?(h=ie(v,n))&&(pe(h,e)?(u&&u(h),p=t.Array(h)):p=t.Array()):J.UNIQUE_ID&&(_=e.match(B.ID))&&(v=_[1])&&((h=ie(v,m))?"#"+v==e?(u&&u(h),p=t.Array(h)):n=/[>+~]/.test(e)?h.parentNode:h:p=t.Array()),p)return J.CACHING&&d.saveResults(E,n,m,p),p;if(!f&&G&&(_=o.match(B.TAG))&&(v=_[1])){if(0===(p=n.getElementsByTagName(v)).length)return[];e=e.slice(0,a)+e.slice(a).replace(v,"*")}else if(!f&&W&&(_=o.match(B.CLASS))&&(v=_[1])){if(0===(p=n.getElementsByClassName(v.replace(/\\([^\\]{1})/g,"$1"))).length)return[];e=e.slice(0,a)+e.slice(a).replace("."+v,U.test(e.charAt(e.indexOf(v)-1))?"":"*")}}return p||(p=X?/^(?:applet|object)$/i.test(n.nodeName)?n.childNodes:n.all:n.getElementsByTagName("*")),ye[e]&&Ee[e]===n||(ye[e]=le(r?[e]:_,K,!0),Ee[e]=n),p=ye[e](p,Ne,[],m,g,n,u,{}),J.CACHING&&d.saveResults(E,n,m,p),p},ge=function(t){return t},_e=t.Object(),ve=t.Object(),Ee=t.Object(),ye=t.Object(),Ne=t.Object({byId:ie,match:pe,select:me,getAttribute:se,hasAttribute:ce});Tokens=t.Object({prefixes:_,encoding:T,operators:v,whitespace:E,identifier:D,attributes:M,combinators:y,pseudoclass:R,pseudoparms:N,quotedvalue:b}),d.ACCEPT_NODE=Q,d.byId=ae,d.match=pe,d.first=de,d.select=me,d.compile=le,d.configure=te,d.setCache=ge,d.shortcuts=ge,d.loadResults=ge,d.saveResults=ge,d.emit=ne,d.Config=J,d.Snapshot=Ne,d.Operators=Y,d.Selectors=V,d.Tokens=Tokens,d.Version=p,d.registerOperator=function(t,e){Y[t]||(Y[t]=e)},d.registerSelector=function(e,n,r){V[e]||(V[e]=t.Object({Expression:n,Callback:r}))},re(m,!0)});
//# sourceMappingURL=jspm_packages/npm/nwmatcher@1.3.3/src/nwmatcher-base.js.map