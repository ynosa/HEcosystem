/*
 * Copyright (C) 2007-2014 Diego Perini
 * All rights reserved.
 *
 * CSS3 pseudo-classes extension for NWMatcher
 *
 * Added capabilities:
 *
 * - structural pseudo-classes
 *
 * :root, :empty,
 * :nth-child(), nth-of-type(),
 * :nth-last-child(), nth-last-of-type(),
 * :first-child, :last-child, :only-child
 * :first-of-type, :last-of-type, :only-of-type
 *
 * - negation, language, target and UI element pseudo-classes
 *
 * :not(), :target, :lang(), :target
 * :link, :visited, :active, :focus, :hover,
 * :checked, :disabled, :enabled, :selected
 */
!function(t){var e=t.Object({a:1,A:1,area:1,AREA:1,link:1,LINK:1}),n=document.documentElement,r="compareDocumentPosition"in n?function(t,e){return 16==(16&t.compareDocumentPosition(e))}:"contains"in n?function(t,e){return 1==e.nodeType&&t.contains(e)}:function(t,e){for(;(e=e.parentNode)&&1==e.nodeType;)if(e===t)return!0;return!1},o=function(t){return t.getAttribute("href")&&e[t.nodeName]},i=function(t){for(t=t.firstChild;t;){if(3==t.nodeType||t.nodeName>"@")return!1;t=t.nextSibling}return!0},a=function(t,e){for(var n=1,r=e?"nextSibling":"previousSibling";t=t[r];)t.nodeName>"@"&&++n;return n},u=function(t,e){for(var n=1,r=e?"nextSibling":"previousSibling",o=t.nodeName;t=t[r];)t.nodeName==o&&++n;return n};NW.Dom.Snapshot.contains=r,NW.Dom.Snapshot.isLink=o,NW.Dom.Snapshot.isEmpty=i,NW.Dom.Snapshot.nthOfType=u,NW.Dom.Snapshot.nthElement=a}(this),NW.Dom.registerSelector("nwmatcher:spseudos",/^\:(root|empty|(?:first|last|only)(?:-child|-of-type)|nth(?:-last)?(?:-child|-of-type)\(\s*(even|odd|(?:[-+]{0,1}\d*n\s*)?[-+]{0,1}\s*\d*)\s*\))?(.*)/i,function(t){return function(e,n){var r,o,i,a,u,s=!0;switch(e[1]){case"root":n=e[3]?"if(e===h||s.contains(h,e)){"+n+"}":"if(e===h){"+n+"}";break;case"empty":n="if(s.isEmpty(e)){"+n+"}";break;default:if(e[1]&&e[2]){if("n"==e[2]){n="if(e!==h){"+n+"}";break}"even"==e[2]?(r=2,i=0):"odd"==e[2]?(r=2,i=1):(i=(o=e[2].match(/(-?\d+)$/))?t.parseInt(o[1],10):0,r=(o=e[2].match(/(-?\d*)n/i))?t.parseInt(o[1],10):0,o&&"-"==o[1]&&(r=-1)),a=r>1?/last/i.test(e[1])?"(n-("+i+"))%"+r+"==0":"n>="+i+"&&(n-("+i+"))%"+r+"==0":-1>r?/last/i.test(e[1])?"(n-("+i+"))%"+r+"==0":"n<="+i+"&&(n-("+i+"))%"+r+"==0":0===r?"n=="+i:/last/i.test(e[1])?-1==r?"n>="+i:"n<="+i:-1==r?"n<="+i:"n>="+i,n="if(e!==h){n=s["+(/-of-type/i.test(e[1])?'"nthOfType"':'"nthElement"')+"](e,"+(/last/i.test(e[1])?"true":"false")+");if("+a+"){"+n+"}}"}else e[1]?(r=/first/i.test(e[1])?"previous":"next",o=/only/i.test(e[1])?"previous":"next",i=/first|last/i.test(e[1]),u=/-of-type/i.test(e[1])?"&&n.nodeName!==e.nodeName":'&&n.nodeName<"@"',n="if(e!==h){"+("n=e;while((n=n."+r+"Sibling)"+u+");if(!n){"+(i?n:"n=e;while((n=n."+o+"Sibling)"+u+");if(!n){"+n+"}")+"}")+"}"):s=!1}return t.Object({source:n,status:s})}}(this)),NW.Dom.registerSelector("nwmatcher:dpseudos",/^\:(link|visited|target|active|focus|hover|checked|disabled|enabled|selected|lang\(([-\w]{2,})\)|not\(([^()]*|.*)\))?(.*)/i,function(t){var e=t.document,r=NW.Dom.Config,o=NW.Dom.Tokens,i=t.RegExp("^\\s+|\\s+$","g"),a=t.RegExp("^((?!:not)("+o.prefixes+"|"+o.identifier+"|\\([^()]*\\))+|\\["+o.attributes+"\\])$");return function(o,u){var s,c,l=!0;switch(o[1].match(/^\w+/)[0]){case"not":s=o[3].replace(i,""),r.SIMPLENOT&&!a.test(s)?NW.Dom.emit('Negation pseudo-class only accepts simple selectors "'+o.join("")+'"'):u="compatMode"in e?"if(!"+NW.Dom.compile(s,"",!1)+"(e,s,r,d,h,g)){"+u+"}":'if(!s.match(e, "'+s.replace(/\x22/g,'\\"')+'",g)){'+u+"}";break;case"checked":u='if((typeof e.form!=="undefined"&&(/^(?:radio|checkbox)$/i).test(e.type)&&e.checked)'+(r.USE_HTML5?"||(/^option$/i.test(e.nodeName)&&(e.selected||e.checked))":"")+"){"+u+"}";break;case"disabled":u='if(((typeof e.form!=="undefined"'+(r.USE_HTML5?"":"&&!(/^hidden$/i).test(e.type)")+")||s.isLink(e))&&e.disabled===true){"+u+"}";break;case"enabled":u='if(((typeof e.form!=="undefined"'+(r.USE_HTML5?"":"&&!(/^hidden$/i).test(e.type)")+")||s.isLink(e))&&e.disabled===false){"+u+"}";break;case"lang":c="",o[2]&&(c=o[2].substr(0,2)+"-"),u='do{(n=e.lang||"").toLowerCase();if((n==""&&h.lang=="'+o[2].toLowerCase()+'")||(n&&(n=="'+o[2].toLowerCase()+'"||n.substr(0,3)=="'+c.toLowerCase()+'"))){'+u+"break;}}while((e=e.parentNode)&&e!==g);";break;case"target":n=e.location?e.location.hash:"",n&&(u='if(e.id=="'+n.slice(1)+'"){'+u+"}");break;case"link":u="if(s.isLink(e)&&!e.visited){"+u+"}";break;case"visited":u="if(s.isLink(e)&&e.visited){"+u+"}";break;case"active":u="if(e===d.activeElement){"+u+"}";break;case"hover":u="if(e===d.hoverElement){"+u+"}";break;case"focus":u="hasFocus"in e?'if(e===d.activeElement&&d.hasFocus()&&(e.type||e.href||typeof e.tabIndex=="number")){'+u+"}":"if(e===d.activeElement&&(e.type||e.href)){"+u+"}";break;case"selected":u="if(/^option$/i.test(e.nodeName)&&(e.selected||e.checked)){"+u+"}";break;default:l=!1}return t.Object({source:u,status:l})}}(this));
//# sourceMappingURL=jspm_packages/npm/nwmatcher@1.3.3/src/modules/nwmatcher-pseudos.js.map