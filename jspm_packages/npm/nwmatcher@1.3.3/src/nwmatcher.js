/*
 * Copyright (C) 2007-2014 Diego Perini
 * All rights reserved.
 *
 * nwmatcher.js - A fast CSS selector engine and matcher
 *
 * Author: Diego Perini <diego.perini at gmail com>
 * Version: 1.3.3
 * Created: 20070722
 * Release: 20140330
 *
 * License:
 *  http://javascript.nwbox.com/NWMatcher/MIT-LICENSE
 * Download:
 *  http://javascript.nwbox.com/NWMatcher/nwmatcher.js
 */
!function(e,t){"object"==typeof module&&"object"==typeof exports?(module.exports=function(e){e.console=console,e.parseInt=parseInt,e.Function=Function,e.Boolean=Boolean,e.Number=Number,e.RegExp=RegExp,e.String=String,e.Object=Object,e.Array=Array,e.Error=Error,e.Date=Date,e.Math=Math;var n=e.Object();return t(e,n),n},module.factory=t):(t(e,(e.NW||(e.NW=e.Object()))&&(e.NW.Dom||(e.NW.Dom=e.Object()))),e.NW.Dom.factory=t)}(this,function(e,t){var n,r,o,i,a,s,u,c,l,f,h,p,d,m="nwmatcher-1.3.3",g=t,_=e.document,v=_.documentElement,E=e.Array.prototype.slice,y=e.Object.prototype.toString,N="[#.:]?",b="([~*^$|!]?={1})",O="[\\x20\\t\\n\\r\\f]*",T="[\\x20]|[>+~][^>+~]",w="(?:[-+]?\\d*n)?[-+]?\\d*",D="\"[^\"]*\"|'[^']*'",x="\\([^()]+\\)|\\(.*\\)",M="\\{[^{}]+\\}|\\{.*\\}",R="\\[[^[\\]]*\\]|\\[.*\\]",I="\\[.*\\]|\\(.*\\)|\\{.*\\}",S="(?:[-\\w]|[^\\x00-\\xa0]|\\\\.)",A="(?:-?[_a-zA-Z]{1}[-\\w]*|[^\\x00-\\xa0]+|\\\\.+)+",C="("+D+"|"+A+")",L=O+"("+S+"*:?"+S+"+)"+O+"(?:"+b+O+C+")?"+O,j=L.replace(C,"([\\x22\\x27]*)((?:\\\\?.)*?)\\3"),k="((?:"+w+"|"+D+"|"+N+"|"+S+"+|\\["+L+"\\]|\\(.+\\)|"+O+"|,)+)",P=".+",U="(?=[\\x20\\t\\n\\r\\f]*[^>+~(){}<>])(\\*|(?:"+N+A+")|"+T+"|\\["+L+"\\]|\\("+k+"\\)|\\{"+P+"\\}|(?:,|"+O+"))+",H=U.replace(k,".*"),q=new e.RegExp(U,"g"),F=new e.RegExp("^"+O+"|"+O+"$","g"),V=new e.RegExp("^((?!:not)("+N+"|"+A+"|\\([^()]*\\))+|\\["+L+"\\])$"),B=new e.RegExp("([^,\\\\()[\\]]+|"+R+"|"+x+"|"+M+"|\\\\.)+","g"),Y=new e.RegExp("(\\["+L+"\\]|\\("+k+"\\)|\\\\.|[^\\x20\\t\\r\\n\\f>+~])+","g"),z=/[\x20\t\n\r\f]+/g,G=new e.RegExp(A+"|^$"),W=function(){var t=(_.appendChild+"").replace(/appendChild/g,"");return function(n,r){var o=n&&n[r]||!1;return o&&"string"!=typeof o&&t==(o+"").replace(new e.RegExp(r,"g"),"")}}(),X=W(_,"hasFocus"),$=W(_,"querySelector"),Z=W(_,"getElementById"),Q=W(v,"getElementsByTagName"),K=W(v,"getElementsByClassName"),J=W(v,"getAttribute"),et=W(v,"hasAttribute"),tt=function(){var e=!1;try{e=!!E.call(_.childNodes,0)[0]}catch(t){}return e}(),nt="nextElementSibling"in v&&"previousElementSibling"in v,rt=Z?function(){var t=!0,n="x"+e.String(+new e.Date),r=_.createElementNS?"a":'<a name="'+n+'">';return(r=_.createElement(r)).name=n,v.insertBefore(r,v.firstChild),t=!!_.getElementById(n),v.removeChild(r),t}():!0,ot=Q?function(){var e=_.createElement("div");return e.appendChild(_.createComment("")),!!e.getElementsByTagName("*")[0]}():!0,it=K?function(){var e,t=_.createElement("div"),n="台北";return t.appendChild(_.createElement("span")).setAttribute("class",n+"abc "+n),t.appendChild(_.createElement("span")).setAttribute("class","x"),e=!t.getElementsByClassName(n)[0],t.lastChild.className=n,e||2!=t.getElementsByClassName(n).length}():!0,at=J?function(){var e=_.createElement("input");return e.setAttribute("value",5),5!=e.defaultValue}():!0,st=et?function(){var e=_.createElement("option");return e.setAttribute("selected","selected"),!e.hasAttribute("selected")}():!0,ut=function(){var e=_.createElement("select");return e.appendChild(_.createElement("option")),!e.firstChild.selected}(),ct=/opera/i.test(y.call(e.opera)),lt=ct&&e.parseFloat(e.opera.version())>=11,ft=$?function(){var t,n=new e.Array,r=_.createElement("div"),o=function(e,t,n,r){var o=!1;t.appendChild(n);try{o=t.querySelectorAll(e).length==r}catch(i){}for(;t.firstChild;)t.removeChild(t.firstChild);return o};return t=_.createElement("p"),t.setAttribute("class",""),o('[class^=""]',r,t,1)&&n.push("[*^$]=[\\x20\\t\\n\\r\\f]*(?:\"\"|'')"),t=_.createElement("option"),t.setAttribute("selected","selected"),o(":checked",r,t,0)&&n.push(":checked"),t=_.createElement("input"),t.setAttribute("type","hidden"),o(":enabled",r,t,0)&&n.push(":enabled",":disabled"),t=_.createElement("link"),t.setAttribute("href","x"),o(":link",r,t,1)||n.push(":link"),st&&n.push("\\[[\\x20\\t\\n\\r\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),n.length?new e.RegExp(n.join("|")):{test:function(){return!1}}}():!0,ht=new e.RegExp("(?:\\[[\\x20\\t\\n\\r\\f]*class\\b|\\."+A+")"),pt=new e.RegExp(ot&&it||ct?"^#?-?[_a-zA-Z]{1}"+S+"*$":ot?"^[.#]?-?[_a-zA-Z]{1}"+S+"*$":it?"^(?:\\*|#-?[_a-zA-Z]{1}"+S+"*)$":"^(?:\\*|[.#]?-?[_a-zA-Z]{1}"+S+"*)$"),dt=new e.Object({a:1,A:1,area:1,AREA:1,link:1,LINK:1}),mt=new e.Object({checked:1,disabled:1,ismap:1,multiple:1,readonly:1,selected:1}),gt=new e.Object({value:"defaultValue",checked:"defaultChecked",selected:"defaultSelected"}),_t=new e.Object({action:2,cite:2,codebase:2,data:2,href:2,longdesc:2,lowsrc:2,src:2,usemap:2}),vt=new e.Object({"class":0,accept:1,"accept-charset":1,align:1,alink:1,axis:1,bgcolor:1,charset:1,checked:1,clear:1,codetype:1,color:1,compact:1,declare:1,defer:1,dir:1,direction:1,disabled:1,enctype:1,face:1,frame:1,hreflang:1,"http-equiv":1,lang:1,language:1,link:1,media:1,method:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,rel:1,rev:1,rules:1,scope:1,scrolling:1,selected:1,shape:1,target:1,text:1,type:1,valign:1,valuetype:1,vlink:1}),Et=new e.Object({accept:1,"accept-charset":1,alink:1,axis:1,bgcolor:1,charset:1,codetype:1,color:1,enctype:1,face:1,hreflang:1,"http-equiv":1,lang:1,language:1,link:1,media:1,rel:1,rev:1,target:1,text:1,type:1,vlink:1}),yt=new e.Object({}),Nt=new e.Object({"=":"n=='%m'","^=":"n.indexOf('%m')==0","*=":"n.indexOf('%m')>-1","|=":"(n+'-').indexOf('%m-')==0","~=":"(' '+n+' ').indexOf(' %m ')>-1","$=":"n.substr(n.length-'%m'.length)=='%m'"}),bt=new e.Object({ID:new e.RegExp("^\\*?#("+S+"+)|"+I),TAG:new e.RegExp("^("+S+"+)|"+I),CLASS:new e.RegExp("^\\*?\\.("+S+"+$)|"+I)}),Ot=new e.Object({spseudos:/^\:(root|empty|(?:first|last|only)(?:-child|-of-type)|nth(?:-last)?(?:-child|-of-type)\(\s*(even|odd|(?:[-+]{0,1}\d*n\s*)?[-+]{0,1}\s*\d*)\s*\))?(.*)/i,dpseudos:/^\:(link|visited|target|active|focus|hover|checked|disabled|enabled|selected|lang\(([-\w]{2,})\)|not\(([^()]*|.*)\))?(.*)/i,attribute:new e.RegExp("^\\["+j+"\\](.*)"),children:/^[\x20\t\n\r\f]*\>[\x20\t\n\r\f]*(.*)/,adjacent:/^[\x20\t\n\r\f]*\+[\x20\t\n\r\f]*(.*)/,relative:/^[\x20\t\n\r\f]*\~[\x20\t\n\r\f]*(.*)/,ancestor:/^[\x20\t\n\r\f]+(.*)/,universal:/^\*(.*)/,id:new e.RegExp("^#("+S+"+)(.*)"),tagName:new e.RegExp("^("+S+"+)(.*)"),className:new e.RegExp("^\\.("+S+"+)(.*)")}),Tt=function(t,n){var r,o=-1;if(!t.length&&e.Array.slice)return e.Array.slice(n);for(;r=n[++o];)t[t.length]=r;return t},wt=function(e,t,n){for(var r,o=-1;(r=t[++o])&&!1!==n(e[e.length]=r););return e},Dt=function(e,t){var n,r=_;i=e,_=e.ownerDocument||e,(t||r!==_)&&(v=_.documentElement,d="DiV"==_.createElement("DiV").nodeName,p=d||"string"!=typeof _.compatMode?function(){var e=_.createElement("div").style;return e&&(e.width=1)&&"1px"==e.width}():_.compatMode.indexOf("CSS")<0,n=_.createElement("div"),n.appendChild(_.createElement("p")).setAttribute("class","xXx"),n.appendChild(_.createElement("p")).setAttribute("class","xxx"),f=!d&&K&&p&&(2!=n.getElementsByClassName("xxx").length||2!=n.getElementsByClassName("xXx").length),h=!d&&$&&p&&(2!=n.querySelectorAll("[class~=xxx]").length||2!=n.querySelectorAll(".xXx").length),Gt.CACHING&&g.setCache(!0,_))},xt=function(e,t){for(var n=-1,r=null;(r=t[++n])&&r.getAttribute("id")!=e;);return r},Mt=rt?function(e,t){var n=null;return e=e.replace(/\\([^\\]{1})/g,"$1"),d||9!=t.nodeType?xt(e,t.getElementsByTagName("*")):(n=t.getElementById(e))&&n.name==e&&t.getElementsByName?xt(e,t.getElementsByName(e)):n}:function(e,t){return e=e.replace(/\\([^\\]{1})/g,"$1"),t.getElementById&&t.getElementById(e)||xt(e,t.getElementsByTagName("*"))},Rt=function(e,t){return t||(t=_),i!==t&&Dt(t),Mt(e,t)},It=function(t,n){var r="*"==t,o=n,i=new e.Array,a=o.firstChild;for(r||(t=t.toUpperCase());o=a;)if(o.tagName>"@"&&(r||o.tagName.toUpperCase()==t)&&(i[i.length]=o),!(a=o.firstChild||o.nextSibling))for(;!a&&(o=o.parentNode)&&o!==n;)a=o.nextSibling;return i},St=!ot&&tt?function(e,t){return d||11==t.nodeType?It(e,t):E.call(t.getElementsByTagName(e),0)}:function(t,n){var r,o=-1,i=o,a=new e.Array,s=n.getElementsByTagName(t);if("*"==t)for(;r=s[++o];)r.nodeName>"@"&&(a[++i]=r);else for(;r=s[++o];)a[o]=r;return a},At=function(e,t){return t||(t=_),i!==t&&Dt(t),St(e,t)},Ct=function(e,t){return Jt('[name="'+e.replace(/\\([^\\]{1})/g,"$1")+'"]',t)},Lt=function(t,n){var r,o,i=-1,a=i,s=new e.Array,u=St("*",n);for(t=" "+(p?t.toLowerCase():t).replace(/\\([^\\]{1})/g,"$1")+" ";r=u[++i];)o=d?r.getAttribute("class"):r.className,o&&o.length&&(" "+(p?o.toLowerCase():o).replace(z," ")+" ").indexOf(t)>-1&&(s[++a]=r);return s},jt=function(e,t){return it||f||d||!t.getElementsByClassName?Lt(e,t):E.call(t.getElementsByClassName(e.replace(/\\([^\\]{1})/g,"$1")),0)},kt=function(e,t){return t||(t=_),i!==t&&Dt(t),jt(e,t)},Pt="compareDocumentPosition"in v?function(e,t){return 16==(16&e.compareDocumentPosition(t))}:"contains"in v?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},Ut=at?function(e,t){return t=t.toLowerCase(),"object"==typeof e[t]?e.attributes[t]&&e.attributes[t].value||"":"type"==t?e.getAttribute(t)||"":_t[t]?e.getAttribute(t,2)||"":mt[t]?e.getAttribute(t)?t:"false":(e=e.getAttributeNode(t))&&e.value||""}:function(e,t){return e.getAttribute(t)||""},Ht=st?function(e,t){return t=t.toLowerCase(),gt[t]?!!e[gt[t]]:(e=e.getAttributeNode(t),!(!e||!e.specified))}:function(e,t){return d?!!e.getAttribute(t):e.hasAttribute(t)},qt=function(e){for(e=e.firstChild;e;){if(3==e.nodeType||e.nodeName>"@")return!1;e=e.nextSibling}return!0},Ft=function(e){return Ht(e,"href")&&dt[e.nodeName]},Vt=function(e,t){for(var n=1,r=t?"nextSibling":"previousSibling";e=e[r];)e.nodeName>"@"&&++n;return n},Bt=function(e,t){for(var n=1,r=t?"nextSibling":"previousSibling",o=e.nodeName;e=e[r];)e.nodeName==o&&++n;return n},Yt=function(t){if("string"==typeof t)return Gt[t];if("object"!=typeof t)return!1;for(var n in t)Gt[n]=!!t[n],"SIMPLENOT"==n?(tn=new e.Object,nn=new e.Object,rn=new e.Object,on=new e.Object,Gt.USE_QSAPI=!1):"USE_QSAPI"==n&&(Gt[n]=!!t[n]&&$);return q=new e.RegExp(Gt.SIMPLENOT?U:H,"g"),!0},zt=function(t){if(Gt.VERBOSITY)throw new e.Error(t);e.console&&e.console.log&&e.console.log(t)},Gt=new e.Object({CACHING:!1,SHORTCUTS:!1,SIMPLENOT:!0,UNIQUE_ID:!0,USE_HTML5:!0,USE_QSAPI:$,VERBOSITY:!0}),Wt="r[r.length]=c[k];if(f&&false===f(c[k]))break main;else continue main;",Xt=function(t,n,r){var o="string"==typeof t?t.match(B):t;if("string"==typeof n||(n=""),1==o.length)n+=Zt(o[0],r?Wt:"f&&f(k);return true;",r);else for(var i,a=-1,s=new e.Object;i=o[++a];)i=i.replace(F,""),!s[i]&&(s[i]=!0)&&(n+=Zt(i,r?Wt:"f&&f(k);return true;",r));return r?new e.Function("c,s,r,d,h,g,f,v","var N,n,x=0,k=-1,e;main:while((e=c[++k])){"+n+"}return r;"):new e.Function("e,s,r,d,h,g,f,v","var N,n,x=0,k=e;"+n+"return false;")},$t="var z=v[@]||(v[@]=[]),l=z.length-1;while(l>=0&&z[l]!==e)--l;if(l!==-1){break;}z[z.length]=e;",Zt=function(t,n,r){for(var o,i,a,s,u,c,l,f,h,m=0;t;){if(m++,u=t.match(Ot.universal))s="";else if(u=t.match(Ot.id))n="if("+(d?'s.getAttribute(e,"id")':'(e.submit?s.getAttribute(e,"id"):e.id)')+'=="'+u[1]+'"){'+n+"}";else if(u=t.match(Ot.tagName))n="if(e.nodeName"+(d?'=="'+u[1]+'"':'.toUpperCase()=="'+u[1].toUpperCase()+'"')+"){"+n+"}";else if(u=t.match(Ot.className))n="if((n="+(d?'s.getAttribute(e,"class")':"e.className")+')&&n.length&&(" "+'+(p?"n.toLowerCase()":"n")+".replace("+z+'," ")+" ").indexOf(" '+(p?u[1].toLowerCase():u[1])+' ")>-1){'+n+"}";else if(u=t.match(Ot.attribute)){if(s=u[1].split(":"),s=2==s.length?s[1]:s[0]+"",u[2]&&!Nt[u[2]])return zt('Unsupported operator in attribute selectors "'+t+'"'),"";f=!1,h="false",u[2]&&u[4]&&(h=Nt[u[2]])?(vt["class"]=p?1:0,u[4]=u[4].replace(/(\x22|\x27)/g,"\\$1"),u[4]=u[4].replace(/\\([0-9a-f]{2,2})/g,"\\x$1"),f=(d?Et:vt)[s.toLowerCase()],h=h.replace(/\%m/g,f?u[4].toLowerCase():u[4])):("!="==u[2]||"="==u[2])&&(u[4]=u[4].replace(/(\x22|\x27)/g,"\\$1"),h="n"+u[2]+'="'+u[4]+'"'),s="n=s."+(u[2]?"get":"has")+'Attribute(e,"'+u[1]+'")'+(f?".toLowerCase();":";"),n=s+"if("+(u[2]?h:"n")+"){"+n+"}"}else if(u=t.match(Ot.adjacent))n=(r?"":$t.replace(/@/g,m))+n,n=nt?"var N"+m+"=e;while(e&&(e=e.previousElementSibling)){"+n+"break;}e=N"+m+";":"var N"+m+'=e;while(e&&(e=e.previousSibling)){if(e.nodeName>"@"){'+n+"break;}}e=N"+m+";";else if(u=t.match(Ot.relative))n=(r?"":$t.replace(/@/g,m))+n,n=nt?"var N"+m+"=e;e=e.parentNode.firstElementChild;while(e&&e!==N"+m+"){"+n+"e=e.nextElementSibling;}e=N"+m+";":"var N"+m+"=e;e=e.parentNode.firstChild;while(e&&e!==N"+m+'){if(e.nodeName>"@"){'+n+"}e=e.nextSibling;}e=N"+m+";";else if(u=t.match(Ot.children))n=(r?"":$t.replace(/@/g,m))+n,n="var N"+m+"=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){"+n+"break;}e=N"+m+";";else if(u=t.match(Ot.ancestor))n=(r?"":$t.replace(/@/g,m))+n,n="var N"+m+"=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){"+n+"}e=N"+m+";";else if((u=t.match(Ot.spseudos))&&u[1])switch(u[1]){case"root":n=u[3]?"if(e===h||s.contains(h,e)){"+n+"}":"if(e===h){"+n+"}";break;case"empty":n="if(s.isEmpty(e)){"+n+"}";break;default:if(u[1]&&u[2]){if("n"==u[2]){n="if(e!==h){"+n+"}";break}"even"==u[2]?(o=2,i=0):"odd"==u[2]?(o=2,i=1):(i=(a=u[2].match(/(-?\d+)$/))?e.parseInt(a[1],10):0,o=(a=u[2].match(/(-?\d*)n/i))?e.parseInt(a[1],10):0,a&&"-"==a[1]&&(o=-1)),f=o>1?/last/i.test(u[1])?"(n-("+i+"))%"+o+"==0":"n>="+i+"&&(n-("+i+"))%"+o+"==0":-1>o?/last/i.test(u[1])?"(n-("+i+"))%"+o+"==0":"n<="+i+"&&(n-("+i+"))%"+o+"==0":0===o?"n=="+i:/last/i.test(u[1])?-1==o?"n>="+i:"n<="+i:-1==o?"n<="+i:"n>="+i,n="if(e!==h){n=s["+(/-of-type/i.test(u[1])?'"nthOfType"':'"nthElement"')+"](e,"+(/last/i.test(u[1])?"true":"false")+");if("+f+"){"+n+"}}"}else o=/first/i.test(u[1])?"previous":"next",a=/only/i.test(u[1])?"previous":"next",i=/first|last/i.test(u[1]),h=/-of-type/i.test(u[1])?"&&n.nodeName!=e.nodeName":'&&n.nodeName<"@"',n="if(e!==h){"+("n=e;while((n=n."+o+"Sibling)"+h+");if(!n){"+(i?n:"n=e;while((n=n."+a+"Sibling)"+h+");if(!n){"+n+"}")+"}")+"}"}else if((u=t.match(Ot.dpseudos))&&u[1])switch(u[1].match(/^\w+/)[0]){case"not":if(s=u[3].replace(F,""),Gt.SIMPLENOT&&!V.test(s))return zt('Negation pseudo-class only accepts simple selectors "'+t+'"'),"";n="compatMode"in _?"if(!"+Xt(s,"",!1)+"(e,s,r,d,h,g)){"+n+"}":'if(!s.match(e, "'+s.replace(/\x22/g,'\\"')+'",g)){'+n+"}";break;case"checked":n='if((typeof e.form!=="undefined"&&(/^(?:radio|checkbox)$/i).test(e.type)&&e.checked)'+(Gt.USE_HTML5?"||(/^option$/i.test(e.nodeName)&&(e.selected||e.checked))":"")+"){"+n+"}";break;case"disabled":n='if(((typeof e.form!=="undefined"'+(Gt.USE_HTML5?"":"&&!(/^hidden$/i).test(e.type)")+")||s.isLink(e))&&e.disabled===true){"+n+"}";break;case"enabled":n='if(((typeof e.form!=="undefined"'+(Gt.USE_HTML5?"":"&&!(/^hidden$/i).test(e.type)")+")||s.isLink(e))&&e.disabled===false){"+n+"}";break;case"lang":f="",u[2]&&(f=u[2].substr(0,2)+"-"),n='do{(n=e.lang||"").toLowerCase();if((n==""&&h.lang=="'+u[2].toLowerCase()+'")||(n&&(n=="'+u[2].toLowerCase()+'"||n.substr(0,3)=="'+f.toLowerCase()+'"))){'+n+"break;}}while((e=e.parentNode)&&e!==g);";break;case"target":a=_.location?_.location.hash:"",a&&(n='if(e.id=="'+a.slice(1)+'"){'+n+"}");break;case"link":n="if(s.isLink(e)&&!e.visited){"+n+"}";break;case"visited":n="if(s.isLink(e)&&e.visited){"+n+"}";break;case"active":if(d)break;n="if(e===d.activeElement){"+n+"}";break;case"hover":if(d)break;n="if(e===d.hoverElement){"+n+"}";break;case"focus":if(d)break;n=X?'if(e===d.activeElement&&d.hasFocus()&&(e.type||e.href||typeof e.tabIndex=="number")){'+n+"}":"if(e===d.activeElement&&(e.type||e.href)){"+n+"}";break;case"selected":s=ut?"||(n=e.parentNode)&&n.options[n.selectedIndex]===e":"",n="if(/^option$/i.test(e.nodeName)&&(e.selected||e.checked"+s+")){"+n+"}"}else{s=!1,l=!1;for(s in yt)if((u=t.match(yt[s].Expression))&&u[1]&&(c=yt[s].Callback(u,n),n=c.source,l=c.status))break;if(!l)return zt('Unknown pseudo-class selector "'+t+'"'),"";if(!s)return zt('Unknown token in selector "'+t+'"'),""}if(!u)return zt('Invalid syntax in selector "'+t+'"'),"";t=u&&u[u.length-1]}return n},Qt=function(t,r,o,a){var u;if(!(t&&t.nodeName>"@"))return zt("Invalid element argument"),!1;if("string"!=typeof r)return zt("Invalid selector argument"),!1;if(o&&1==o.nodeType&&!Pt(o,t))return!1;if(i!==o&&Dt(o||(o=t.ownerDocument)),r=r.replace(F,""),Gt.SHORTCUTS&&(r=g.shortcuts(r,t,o)),s!=r){if(!(u=r.match(q))||u[0]!=r)return zt('The string "'+r+'", is not a valid CSS selector'),!1;n=(u=r.match(B)).length<2,s=r,c=u}else u=c;return nn[r]&&tn[r]===o||(nn[r]=Xt(n?[r]:u,"",!1),tn[r]=o),nn[r](t,an,[],_,v,o,a,new e.Object)},Kt=function(e,t){return Jt(e,t,function(){return!1})[0]||null},Jt=function(t,n,s){var c,f,p,m,y,N,b=t;if(0===arguments.length)return zt("Not enough arguments"),[];if("string"!=typeof t)return[];if(n&&!/1|9|11/.test(n.nodeType))return zt("Invalid or illegal context element"),[];if(i!==n&&Dt(n||(n=_)),Gt.CACHING&&(m=g.loadResults(b,n,_,v)))return s?wt([],m,s):m;if(!lt&&pt.test(t))switch(t.charAt(0)){case"#":Gt.UNIQUE_ID&&(m=(p=Mt(t.slice(1),n))?[p]:[]);break;case".":m=jt(t.slice(1),n);break;default:m=St(t,n)}else if(!(d||!Gt.USE_QSAPI||h&&ht.test(t)||ft.test(t)))try{m=n.querySelectorAll(t)}catch(O){}if(m)return m=s?wt([],m,s):tt?E.call(m):Tt([],m),Gt.CACHING&&g.saveResults(b,n,_,m),m;if(t=t.replace(F,""),Gt.SHORTCUTS&&(t=g.shortcuts(t,n)),f=u!=t){if(!(y=t.match(q))||y[0]!=t)return zt('The string "'+t+'", is not a valid CSS selector'),[];r=(y=t.match(B)).length<2,u=t,l=y}else y=l;if(11==n.nodeType)m=It("*",n);else if(!d&&r){if(f&&(y=t.match(Y),N=y[y.length-1],o=N.split(":not")[0],a=t.length-N.length),Gt.UNIQUE_ID&&(y=o.match(bt.ID))&&(N=y[1])?(p=Mt(N,n))&&(Qt(p,t)?(s&&s(p),m=new e.Array(p)):m=new e.Array):Gt.UNIQUE_ID&&(y=t.match(bt.ID))&&(N=y[1])&&((p=Mt(N,_))?"#"+N==t?(s&&s(p),m=new e.Array(p)):n=/[>+~]/.test(t)?p.parentNode:p:m=new e.Array),m)return Gt.CACHING&&g.saveResults(b,n,_,m),m;if(!K&&(y=o.match(bt.TAG))&&(N=y[1])){if(0===(m=St(N,n)).length)return[];t=t.slice(0,a)+t.slice(a).replace(N,"*")}else if((y=o.match(bt.CLASS))&&(N=y[1])){if(0===(m=jt(N,n)).length)return[];t=G.test(t.charAt(t.indexOf(N)-1))?t.slice(0,a)+t.slice(a).replace("."+N,""):t.slice(0,a)+t.slice(a).replace("."+N,"*")}else if((y=t.match(bt.CLASS))&&(N=y[1])){if(0===(m=jt(N,n)).length)return[];for(c=0,els=new e.Array;m.length>c;++c)els=Tt(els,m[c].getElementsByTagName("*"));m=els,t=G.test(t.charAt(t.indexOf(N)-1))?t.slice(0,a)+t.slice(a).replace("."+N,""):t.slice(0,a)+t.slice(a).replace("."+N,"*")}else if(K&&(y=o.match(bt.TAG))&&(N=y[1])){if(0===(m=St(N,n)).length)return[];t=t.slice(0,a)+t.slice(a).replace(N,"*")}}return m||(m=/^(?:applet|object)$/i.test(n.nodeName)?n.childNodes:St("*",n)),on[t]&&rn[t]===n||(on[t]=Xt(r?[t]:y,"",!0),rn[t]=n),m=on[t](m,an,[],_,v,n,s,new e.Object),Gt.CACHING&&g.saveResults(b,n,_,m),m},en=function(e){return e},tn=new e.Object,nn=new e.Object,rn=new e.Object,on=new e.Object,an=new e.Object({nthElement:Vt,nthOfType:Bt,getAttribute:Ut,hasAttribute:Ht,byClass:jt,byName:Ct,byTag:St,byId:Mt,contains:Pt,isEmpty:qt,isLink:Ft,select:Jt,match:Qt}),sn=new e.Object({prefixes:N,encoding:S,operators:b,whitespace:O,identifier:A,attributes:L,combinators:T,pseudoclass:k,pseudoparms:w,quotedvalue:D});g.ACCEPT_NODE=Wt,g.byId=Rt,g.byTag=At,g.byName=Ct,g.byClass=kt,g.getAttribute=Ut,g.hasAttribute=Ht,g.match=Qt,g.first=Kt,g.select=Jt,g.compile=Xt,g.contains=Pt,g.configure=Yt,g.setCache=en,g.loadResults=en,g.saveResults=en,g.shortcuts=en,g.emit=zt,g.Config=Gt,g.Snapshot=an,g.Operators=Nt,g.Selectors=yt,g.Tokens=sn,g.Version=m,g.registerOperator=function(e,t){Nt[e]||(Nt[e]=t)},g.registerSelector=function(t,n,r){yt[t]||(yt[t]=new e.Object({Expression:n,Callback:r}))},Dt(_,!0)});
//# sourceMappingURL=jspm_packages/npm/nwmatcher@1.3.3/src/nwmatcher.js.map