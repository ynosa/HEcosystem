/**
 * Object#toString() ref for stringify().
 */
function promote(e,t){if(0==e[t].length)return e[t]={};var n={};for(var r in e[t])hasOwnProperty.call(e[t],r)&&(n[r]=e[t][r]);return e[t]=n,n}function parse(e,t,n,r){var o=e.shift();if(!Object.getOwnPropertyDescriptor(Object.prototype,n))if(o){var i=t[n]=t[n]||[];"]"==o?isArray(i)?""!=r&&i.push(r):"object"==typeof i?i[objectKeys(i).length]=r:i=t[n]=[t[n],r]:~indexOf(o,"]")?(o=o.substr(0,o.length-1),!isint.test(o)&&isArray(i)&&(i=promote(t,n)),parse(e,i,o,r)):(!isint.test(o)&&isArray(i)&&(i=promote(t,n)),parse(e,i,o,r))}else isArray(t[n])?t[n].push(r):t[n]="object"==typeof t[n]?r:"undefined"==typeof t[n]?r:[t[n],r]}function merge(e,t,n){if(~indexOf(t,"]")){{var r=t.split("[");r.length}parse(r,e,"base",n)}else{if(!isint.test(t)&&isArray(e.base)){var o={};for(var i in e.base)o[i]=e.base[i];e.base=o}set(e.base,t,n)}return e}function compact(e){if("object"!=typeof e)return e;if(isArray(e)){var t=[];for(var n in e)hasOwnProperty.call(e,n)&&t.push(e[n]);return t}for(var r in e)e[r]=compact(e[r]);return e}function parseObject(e){var t={base:{}};return forEach(objectKeys(e),function(n){merge(t,n,e[n])}),compact(t.base)}function parseString(e){var t=reduce(String(e).split("&"),function(e,t){var n=indexOf(t,"="),r=lastBraceInKey(t),o=t.substr(0,r||n),i=t.substr(r||n,t.length),i=i.substr(indexOf(i,"=")+1,i.length);return""==o&&(o=t,i=""),""==o?e:merge(e,decode(o),decode(i))},{base:{}}).base;return compact(t)}function stringifyString(e,t){if(!t)throw new TypeError("stringify expects an object");return t+"="+encodeURIComponent(e)}function stringifyArray(e,t){var n=[];if(!t)throw new TypeError("stringify expects an object");for(var r=0;r<e.length;r++)n.push(stringify(e[r],t+"["+r+"]"));return n.join("&")}function stringifyObject(e,t){for(var n,r=[],o=objectKeys(e),i=0,a=o.length;a>i;++i)n=o[i],""!=n&&r.push(null==e[n]?encodeURIComponent(n)+"=":stringify(e[n],t?t+"["+encodeURIComponent(n)+"]":encodeURIComponent(n)));return r.join("&")}function set(e,t,n){var r=e[t];Object.getOwnPropertyDescriptor(Object.prototype,t)||(void 0===r?e[t]=n:isArray(r)?r.push(n):e[t]=[r,n])}function lastBraceInKey(e){for(var t,n,r=e.length,o=0;r>o;++o)if(n=e[o],"]"==n&&(t=!1),"["==n&&(t=!0),"="==n&&!t)return o}function decode(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}}var toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,indexOf="function"==typeof Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},isArray=Array.isArray||function(e){return"[object Array]"==toString.call(e)},objectKeys=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},forEach="function"==typeof Array.prototype.forEach?function(e,t){return e.forEach(t)}:function(e,t){for(var n=0;n<e.length;n++)t(e[n])},reduce=function(e,t,n){if("function"==typeof e.reduce)return e.reduce(t,n);for(var r=n,o=0;o<e.length;o++)r=t(r,e[o]);return r},isint=/^[0-9]+$/;exports.parse=function(e){return null==e||""==e?{}:"object"==typeof e?parseObject(e):parseString(e)};var stringify=exports.stringify=function(e,t){return isArray(e)?stringifyArray(e,t):"[object Object]"==toString.call(e)?stringifyObject(e,t):"string"==typeof e?stringifyString(e,t):t+"="+encodeURIComponent(String(e))};
//# sourceMappingURL=jspm_packages/npm/qs@0.6.6/index.js.map