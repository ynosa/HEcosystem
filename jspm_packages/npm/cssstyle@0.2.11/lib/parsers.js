/*********************************************************************
 * These are commonly used parsers for CSS Values they take a string *
 * to parse and return a string after it's been converted, if needed *
 ********************************************************************/
"use strict";exports.TYPES={INTEGER:1,NUMBER:2,LENGTH:3,PERCENT:4,URL:5,COLOR:6,STRING:7,ANGLE:8,KEYWORD:9,NULL_OR_EMPTY_STR:10};var integerRegEx=/^[\-+]?[0-9]+$/,numberRegEx=/^[\-+]?[0-9]*\.[0-9]+$/,lengthRegEx=/^(0|[\-+]?[0-9]?\.?[0-9]+(in|cm|em|mm|pt|pc|px))$/,percentRegEx=/^[\-+]?[0-9]?\.?[0-9]+%$/,urlRegEx=/^url\(\s*([^\)]*)\s*\)$/,stringRegEx=/^("[^"]*"|'[^']*')$/,colorRegEx1=/^#[0-9a-fA-F][0-9a-fA-F][0-9a-fA-F]([0-9a-fA-F][0-9a-fA-F][0-9a-fA-F])?$/,colorRegEx2=/^rgb\(([^\)]*)\)$/,colorRegEx3=/^rgba\(([^\)]*)\)$/,angleRegEx=/^([\-+]?[0-9]?\.?[0-9]+)(deg|grad|rad)$/;exports.valueType=function(t){if(""===t||null===t)return exports.TYPES.NULL_OR_EMPTY_STR;if("number"==typeof t)return t=t.toString(),integerRegEx.test(t)?exports.TYPES.INTEGER:numberRegEx.test(t)?exports.TYPES.NUMBER:void 0;if("string"!=typeof t)return void 0;if(lengthRegEx.test(t))return exports.TYPES.LENGTH;if(percentRegEx.test(t))return exports.TYPES.PERCENT;if(urlRegEx.test(t))return exports.TYPES.URL;if(stringRegEx.test(t))return exports.TYPES.STRING;if(angleRegEx.test(t))return exports.TYPES.ANGLE;if(colorRegEx1.test(t))return exports.TYPES.COLOR;var e,r=colorRegEx2.exec(t);if(null!==r)return e=r[1].split(/\s*,\s*/),3!==e.length?void 0:e.every(percentRegEx.test.bind(percentRegEx))||e.every(integerRegEx.test.bind(integerRegEx))?exports.TYPES.COLOR:void 0;if(r=colorRegEx3.exec(t),null!==r)return e=r[1].split(/\s*,\s*/),4!==e.length?void 0:(e.slice(0,3).every(percentRegEx.test.bind(percentRegEx))||e.every(integerRegEx.test.bind(integerRegEx)))&&numberRegEx.test(e[3])?exports.TYPES.COLOR:void 0;switch(t=t.toLowerCase()){case"maroon":case"red":case"orange":case"yellow":case"olive":case"purple":case"fuchsia":case"white":case"lime":case"green":case"navy":case"blue":case"aqua":case"teal":case"black":case"silver":case"gray":case"activeborder":case"activecaption":case"appworkspace":case"background":case"buttonface":case"buttonhighlight":case"buttonshadow":case"buttontext":case"captiontext":case"graytext":case"highlight":case"highlighttext":case"inactiveborder":case"inactivecaption":case"inactivecaptiontext":case"infobackground":case"infotext":case"menu":case"menutext":case"scrollbar":case"threeddarkshadow":case"threedface":case"threedhighlight":case"threedlightshadow":case"threedshadow":case"window":case"windowframe":case"windowtext":return exports.TYPES.COLOR;default:return exports.TYPES.KEYWORD}},exports.parseInteger=function(t){var e=exports.valueType(t);return e===exports.TYPES.NULL_OR_EMPTY_STR?t:e!==exports.TYPES.INTEGER?void 0:String(parseInt(t,10))},exports.parseNumber=function(t){var e=exports.valueType(t);return e===exports.TYPES.NULL_OR_EMPTY_STR?t:e!==exports.TYPES.NUMBER?void 0:String(parseFloat(t,10))},exports.parseLength=function(t){if(0===t||"0"===t)return"0px";var e=exports.valueType(t);return e===exports.TYPES.NULL_OR_EMPTY_STR?t:e!==exports.TYPES.LENGTH?void 0:t},exports.parsePercent=function(t){if(0===t||"0"===t)return"0%";var e=exports.valueType(t);return e===exports.TYPES.NULL_OR_EMPTY_STR?t:e!==exports.TYPES.PERCENT?void 0:t},exports.parseMeasurement=function(t){var e=exports.parseLength(t);return void 0!==e?e:exports.parsePercent(t)},exports.parseUrl=function(t){var e=exports.valueType(t);if(e===exports.TYPES.NULL_OR_EMPTY_STR)return t;var r=urlRegEx.exec(t);if(!r)return void 0;var n=r[1];if(('"'===n[1]||"'"===n[1])&&n[1]!==n[n.length-1])return void 0;('"'===n[1]||"'"===n[1])&&(n=n.substr(1,-1));var i;for(i=0;i<n.length;i++)switch(n[i]){case"(":case")":case" ":case"	":case"\n":case"'":case'"':return void 0;case"\\":i++}return"url("+n+")"},exports.parseString=function(t){var e=exports.valueType(t);if(e===exports.TYPES.NULL_OR_EMPTY_STR)return t;if(e!==exports.TYPES.STRING)return void 0;var r;for(r=1;r<t.length-1;r++)switch(t[r]){case t[0]:return void 0;case"\\":for(r++;r<t.length-1&&/[0-9A-Fa-f]/.test(t[r]);)r++}return r>=t.length?void 0:t},exports.parseColor=function(t){var e=exports.valueType(t);if(e===exports.TYPES.NULL_OR_EMPTY_STR)return t;var r,n,i,o,a=1,s=colorRegEx1.exec(t);if(s){var u=t.substr(1);return 3===u.length&&(u=u[0]+u[0]+u[1]+u[1]+u[2]+u[2]),r=parseInt(u.substr(0,2),16),n=parseInt(u.substr(2,2),16),i=parseInt(u.substr(4,2),16),"rgb("+r+", "+n+", "+i+")"}if(s=colorRegEx2.exec(t)){if(o=s[1].split(/\s*,\s*/),3!==o.length)return void 0;if(o.every(percentRegEx.test.bind(percentRegEx)))r=Math.floor(255*parseFloat(o[0].slice(0,-1))/100),n=Math.floor(255*parseFloat(o[1].slice(0,-1))/100),i=Math.floor(255*parseFloat(o[2].slice(0,-1))/100);else{if(!o.every(integerRegEx.test.bind(integerRegEx)))return void 0;r=parseInt(o[0],10),n=parseInt(o[1],10),i=parseInt(o[2],10)}return r=Math.min(255,Math.max(0,r)),n=Math.min(255,Math.max(0,n)),i=Math.min(255,Math.max(0,i)),"rgb("+r+", "+n+", "+i+")"}if(s=colorRegEx3.exec(t)){if(o=s[1].split(/\s*,\s*/),4!==o.length)return void 0;if(o.slice(0,3).every(percentRegEx.test.bind(percentRegEx)))r=Math.floor(255*parseFloat(o[0].slice(0,-1))/100),n=Math.floor(255*parseFloat(o[1].slice(0,-1))/100),i=Math.floor(255*parseFloat(o[2].slice(0,-1))/100),a=parseFloat(o[3]);else{if(!o.slice(0,3).every(integerRegEx.test.bind(integerRegEx)))return void 0;r=parseInt(o[0],10),n=parseInt(o[1],10),i=parseInt(o[2],10),a=parseFloat(o[3])}return isNaN(a)&&(a=1),r=Math.min(255,Math.max(0,r)),n=Math.min(255,Math.max(0,n)),i=Math.min(255,Math.max(0,i)),a=Math.min(1,Math.max(0,a)),1===a?"rgb("+r+", "+n+", "+i+")":"rgba("+r+", "+n+", "+i+", "+a+")"}return e===exports.TYPES.COLOR?t:void 0},exports.parseAngle=function(t){var e=exports.valueType(t);if(e===exports.TYPES.NULL_OR_EMPTY_STR)return t;if(e!==exports.TYPES.ANGLE)return void 0;var r=angleRegEx.exec(t),n=parseFloat(r[1]);for("rad"===r[2]?n*=180/Math.PI:"grad"===r[2]&&(n*=.9);0>n;)n+=360;for(;n>360;)n-=360;return n+"deg"},exports.parseKeyword=function(t,e){var r=exports.valueType(t);if(r===exports.TYPES.NULL_OR_EMPTY_STR)return t;if(r!==exports.TYPES.KEYWORD)return void 0;t=t.toString().toLowerCase();var n;for(n=0;n<e.length;n++)if(e[n].toLowerCase()===t)return e[n];return void 0};var dashedToCamelCase=function(t){var e,r="",n=!1;for(e=0;e<t.length;e++)"-"!==t[e]?(r+=n?t[e].toUpperCase():t[e],n=!1):n=!0;return r},is_space=/\s/,opening_deliminators=['"',"'","("],closing_deliminators=['"',"'",")"],getParts=function(t){var e,r,n,i=[],o=t.length,a=[],s="";for(e=0;o>e;e++)r=opening_deliminators.indexOf(t[e]),n=closing_deliminators.indexOf(t[e]),is_space.test(t[e])?0===i.length?(a.push(s),s=""):s+=t[e]:"\\"===t[e]?(e++,s+=t[e]):(s+=t[e],-1!==n&&n===i[i.length-1]?i.pop():-1!==r&&i.push(r));return""!==s&&a.push(s),a};exports.shorthandParser=function(t,e){var r=exports.valueType(t);if(r===exports.TYPES.NULL_OR_EMPTY_STR)return t;if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)return void 0;if("inherit"===t.toLowerCase())return{};var n=getParts(t),i=!0,o={};return n.forEach(function(t){var r=!1;Object.keys(e).forEach(function(n){e[n].isValid(t)&&(r=!0,o[n]=t)}),i=i&&r}),i?o:void 0},exports.shorthandSetter=function(t,e){return function(r){var n=exports.shorthandParser(r,e);void 0!==n&&(Object.keys(n).forEach(function(t){var e=dashedToCamelCase(t);this[e]=n[t],n[t]=this[e],this.removeProperty(t),this._values[t]=n[t]},this),Object.keys(e).forEach(function(t){n.hasOwnProperty(t)||(this.removeProperty(t),delete this._values[t])},this),this.setProperty(t,r))}},exports.shorthandGetter=function(t,e){return function(){return void 0!==this._values[t]?this.getPropertyValue(t):Object.keys(e).map(function(t){return this.getPropertyValue(t)},this).filter(function(t){return""!==t}).join(" ")}},exports.implicitSetter=function(t,e,r,n){return e=e||"",""!==e&&(e="-"+e),function(i){if("number"==typeof i&&(i=i.toString()),"string"!=typeof i)return void 0;if("inherit"===i.toLowerCase())return this.setProperty(t+e,i);var o=getParts(i);if(o.length<1||o.length>4)return void 0;if(!o.every(r))return void 0;switch(this.setProperty(t+e,n(i)),this.removeProperty(t+"-top"+e),this.removeProperty(t+"-right"+e),this.removeProperty(t+"-bottom"+e),this.removeProperty(t+"-left"+e),o.length){case 1:return this._values[t+"-top"+e]=n(o[0]),this._values[t+"-right"+e]=n(o[0]),this._values[t+"-bottom"+e]=n(o[0]),this._values[t+"-left"+e]=n(o[0]),i;case 2:return this._values[t+"-top"+e]=n(o[0]),this._values[t+"-right"+e]=n(o[1]),this._values[t+"-bottom"+e]=n(o[0]),this._values[t+"-left"+e]=n(o[1]),i;case 3:return this._values[t+"-top"+e]=n(o[0]),this._values[t+"-right"+e]=n(o[1]),this._values[t+"-bottom"+e]=n(o[2]),this._values[t+"-left"+e]=n(o[1]),i;case 4:return this._values[t+"-top"+e]=n(o[0]),this._values[t+"-right"+e]=n(o[1]),this._values[t+"-bottom"+e]=n(o[2]),this._values[t+"-left"+e]=n(o[3]),i}}};var camel_to_dashed=/[A-Z]/g,first_segment=/^\([^\-]\)-/,vendor_prefixes=["o","moz","ms","webkit"];exports.camelToDashed=function(t){var e,r=t.replace(camel_to_dashed,"-$1").toLowerCase();return e=r.match(first_segment),e&&-1!==vendor_prefixes.indexOf(e[1])&&(r="-"+r),r};
//# sourceMappingURL=jspm_packages\npm\cssstyle@0.2.11/lib\parsers.js.map