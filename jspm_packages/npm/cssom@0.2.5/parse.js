//.CommonJS
var CSSOM={};CSSOM.parse=function(e){for(var t,n,r,o,i,a,s,u,c,l=0,f="before-selector",h="",p={selector:!0,value:!0,atRule:!0,"importRule-begin":!0,importRule:!0,atBlock:!0},d=new CSSOM.CSSStyleSheet,m=d,g="",_=/@(-(?:\w+-)+)?keyframes/g,y=function(t){var n=e.substring(0,l).split("\n"),r=n.length,o=n.pop().length+1,i=new Error(t+" (line "+r+", char "+o+")");throw i.line=r,i.char=o,i.styleSheet=d,i};c=e.charAt(l);l++)switch(c){case" ":case"	":case"\r":case"\n":case"\f":p[f]&&(h+=c);break;case'"':switch(t=e.indexOf('"',l+1)+1,t||y('Unmatched "'),h+=e.slice(l,t),l=t-1,f){case"before-value":f="value";break;case"importRule-begin":f="importRule"}break;case"'":switch(t=e.indexOf("'",l+1)+1,t||y("Unmatched '"),h+=e.slice(l,t),l=t-1,f){case"before-value":f="value";break;case"importRule-begin":f="importRule"}break;case"/":"*"===e.charAt(l+1)?(l+=2,t=e.indexOf("*/",l),-1===t?y("Missing */"):l=t+1):h+=c,"importRule-begin"===f&&(h+=" ",f="importRule");break;case"@":if(e.indexOf("@media",l)===l){f="atBlock",i=new CSSOM.CSSMediaRule,i.__starts=l,l+="media".length,h="";break}if(e.indexOf("@import",l)===l){f="importRule-begin",l+="import".length,h+="@import";break}if(e.indexOf("@font-face",l)===l){f="fontFaceRule-begin",l+="font-face".length,s=new CSSOM.CSSFontFaceRule,s.__starts=l,h="";break}_.lastIndex=l;var v=_.exec(e);if(v&&v.index===l){f="keyframesRule-begin",u=new CSSOM.CSSKeyframesRule,u.__starts=l,u._vendorPrefix=v[1],l+=v[0].length-1,h="";break}"selector"==f&&(f="atRule"),h+=c;break;case"{":"selector"===f||"atRule"===f?(o.selectorText=h.trim(),o.style.__starts=l,h="",f="before-name"):"atBlock"===f?(i.media.mediaText=h.trim(),m=n=i,i.parentStyleSheet=d,h="",f="before-selector"):"fontFaceRule-begin"===f?(n&&(s.parentRule=n),s.parentStyleSheet=d,o=s,h="",f="before-name"):"keyframesRule-begin"===f?(u.name=h.trim(),n&&(u.parentRule=n),u.parentStyleSheet=d,m=n=u,h="",f="keyframeRule-begin"):"keyframeRule-begin"===f&&(o=new CSSOM.CSSKeyframeRule,o.keyText=h.trim(),o.__starts=l,h="",f="before-name");break;case":":"name"===f?(r=h.trim(),h="",f="before-value"):h+=c;break;case"(":"value"===f?(t=e.indexOf(")",l+1),-1===t&&y('Unmatched "("'),h+=e.slice(l,t+1),l=t):h+=c;break;case"!":"value"===f&&e.indexOf("!important",l)===l?(g="important",l+="important".length):h+=c;break;case";":switch(f){case"value":o.style.setProperty(r,h.trim(),g),g="",h="",f="before-name";break;case"atRule":h="",f="before-selector";break;case"importRule":a=new CSSOM.CSSImportRule,a.parentStyleSheet=a.styleSheet.parentStyleSheet=d,a.cssText=h+c,d.cssRules.push(a),h="",f="before-selector";break;default:h+=c}break;case"}":switch(f){case"value":o.style.setProperty(r,h.trim(),g),g="";case"before-name":case"name":o.__ends=l+1,n&&(o.parentRule=n),o.parentStyleSheet=d,m.cssRules.push(o),h="",f=m.constructor===CSSOM.CSSKeyframesRule?"keyframeRule-begin":"before-selector";break;case"keyframeRule-begin":case"before-selector":case"selector":n||y("Unexpected }"),m.__ends=l+1,d.cssRules.push(m),m=d,n=null,h="",f="before-selector"}break;default:switch(f){case"before-selector":f="selector",o=new CSSOM.CSSStyleRule,o.__starts=l;break;case"before-name":f="name";break;case"before-value":f="value";break;case"importRule-begin":f="importRule"}h+=c}return d},exports.parse=CSSOM.parse,CSSOM.CSSStyleSheet=require("./CSSStyleSheet").CSSStyleSheet,CSSOM.CSSStyleRule=require("./CSSStyleRule").CSSStyleRule,CSSOM.CSSImportRule=require("./CSSImportRule").CSSImportRule,CSSOM.CSSMediaRule=require("./CSSMediaRule").CSSMediaRule,CSSOM.CSSFontFaceRule=require("./CSSFontFaceRule").CSSFontFaceRule,CSSOM.CSSStyleDeclaration=require("./CSSStyleDeclaration").CSSStyleDeclaration,CSSOM.CSSKeyframeRule=require("./CSSKeyframeRule").CSSKeyframeRule,CSSOM.CSSKeyframesRule=require("./CSSKeyframesRule").CSSKeyframesRule;
//# sourceMappingURL=jspm_packages/npm/cssom@0.2.5/parse.js.map