{"version":3,"file":"contextify.js","sources":["contextify.src.js"],"names":["Contextify","require","exports","blank context","test","ctx","notEqual","undefined","done","basic context","sandbox","prop1","prop2","equal","basic createContext","createContext","test contextified object extra properties","run","getGlobal","dispose","createContext should not modify the sandbox","test undefined sandbox","sandbox prototype properties should be searched","__proto__","test for nonexistent properties","global","test1","test for \"undefined\" properties","x","_x","test for \"undefined\" properties with createContext","context","test for \"undefined\" variables","_y","_z","z","test run with filename","test run with createContext","test accessors on sandbox","__defineGetter__","__defineSetter__","val","this","test2","test dispose","throws","Error","global variables in scripts should go on sandbox","sandbox properties should be globals","ok","setTimeout","createContext: sandbox properties should be globals","basic test","notDeepEqual","prop3","self references to the global object","ref1","ref2","test enumerator","globalProps","Object","keys","length","indexOf","test deleter","test global class name","DOMWindow","constructor","name","thisName","test global functions","testing","test global.run()","test global.getGlobal()","deepEqual","test global.dispose()","test context delete global","test context delete unwritable global","defineProperty","enumerable","configurable","writable","value","sandbox1","sandbox2","global1","global2","console","doesNotThrow","this test","test3","test4","ReferenceError","SyntaxError","test double dispose() - sandbox","test double dispose - global","test run() after dispose()","test getGlobal() after dispose()","test createScript()","script","createScript","runInContext","test createScript() without code","test runInContext"],"mappings":"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"}