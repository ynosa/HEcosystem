/*
 Copyright (c) Microsoft Corporation.  All rights reserved.
 This code is licensed by Microsoft Corporation under the terms
 of the MICROSOFT REACTIVE EXTENSIONS FOR JAVASCRIPT AND .NET LIBRARIES License.
 See http://go.microsoft.com/fwlink/?LinkID=220762.
*/
module.exports=function(t,e){var r;r=t.Rx;var n=r.Observable,i=r.CompositeDisposable,o=r.RefCountDisposable,s=r.SingleAssignmentDisposable,u=r.SerialDisposable,h=r.Subject;r=n.prototype;var c,f,a,l,d,b,p=n.empty,v=n.createWithDisposable,y=function(t,e){return t===e},g=function(){},k=function(t,e){return v(function(r){return new i(e.getDisposable(),t.subscribe(r))})};a=[1,3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143,4194301,8388593,16777213,33554393,67108859,134217689,268435399,536870909,1073741789,2147483647],f=function(t){var e,r;if(0&t)return 2===t;for(e=Math.sqrt(t),r=3;e>=r;){if(0===t%r)return!1;r+=2}return!0},c=function(t){var e,r;for(e=0;e<a.length;++e)if(r=a[e],r>=t)return r;for(e=1|t;e<a[a.length-1];){if(f(e))return e;e+=2}return t},l=0,d=function(t){var r;if(t===e)throw"no such key";return t.getHashCode!==e?t.getHashCode():(r=17*l++,t.getHashCode=function(){return r},r)},b=function(){return{key:null,value:null,next:0,hashCode:0}};var E=function(){function t(t,e){this._initialize(t),this.comparer=e||y,this.size=this.freeCount=0,this.freeList=-1}return t.prototype._initialize=function(t){var e,t=c(t);for(this.buckets=Array(t),this.entries=Array(t),e=0;t>e;e++)this.buckets[e]=-1,this.entries[e]=b();this.freeList=-1},t.prototype.count=function(){return this.size},t.prototype.add=function(t,e){return this._insert(t,e,!0)},t.prototype._insert=function(t,r,n){var i,o,s;for(this.buckets===e&&this._initialize(0),s=2147483647&d(t),i=s%this.buckets.length,o=this.buckets[i];o>=0;o=this.entries[o].next)if(this.entries[o].hashCode===s&&this.comparer(this.entries[o].key,t)){if(n)throw"duplicate key";return void(this.entries[o].value=r)}0<this.freeCount?(n=this.freeList,this.freeList=this.entries[n].next,--this.freeCount):(this.size===this.entries.length&&(this._resize(),i=s%this.buckets.length),n=this.size,++this.size),this.entries[n].hashCode=s,this.entries[n].next=this.buckets[i],this.entries[n].key=t,this.entries[n].value=r,this.buckets[i]=n},t.prototype._resize=function(){var t,e,r,n,i;for(i=c(2*this.size),r=Array(i),t=0;t<r.length;++t)r[t]=-1;for(n=Array(i),t=0;t<this.size;++t)n[t]=this.entries[t];for(t=this.size;i>t;++t)n[t]=b();for(t=0;t<this.size;++t)e=n[t].hashCode%i,n[t].next=r[e],r[e]=t;this.buckets=r,this.entries=n},t.prototype.remove=function(t){var r,n,i,o;if(this.buckets!==e)for(o=2147483647&d(t),r=o%this.buckets.length,n=-1,i=this.buckets[r];i>=0;i=this.entries[i].next){if(this.entries[i].hashCode===o&&this.comparer(this.entries[i].key,t))return 0>n?this.buckets[r]=this.entries[i].next:this.entries[n].next=this.entries[i].next,this.entries[i].hashCode=-1,this.entries[i].next=this.freeList,this.entries[i].key=null,this.entries[i].value=null,this.freeList=i,++this.freeCount,!0;n=i}return!1},t.prototype.clear=function(){var t;if(!(0>=this.size)){for(t=0;t<this.buckets.length;++t)this.buckets[t]=-1;for(t=0;t<this.size;++t)this.entries[t]=b();this.freeList=-1,this.size=0}},t.prototype._findEntry=function(t){var r,n;if(this.buckets!==e)for(n=2147483647&d(t),r=this.buckets[n%this.buckets.length];r>=0;r=this.entries[r].next)if(this.entries[r].hashCode===n&&this.comparer(this.entries[r].key,t))return r;return-1},t.prototype.count=function(){return this.size-this.freeCount},t.prototype.tryGetEntry=function(t){return t=this._findEntry(t),t>=0?{key:this.entries[t].key,value:this.entries[t].value}:e},t.prototype.getValues=function(){var t,r=0,n=[];if(this.entries!==e)for(t=0;t<this.size;t++)0<=this.entries[t].hashCode&&(n[r++]=this.entries[t].value);return n},t.prototype.get=function(t){if(t=this._findEntry(t),t>=0)return this.entries[t].value;throw Error("no such key")},t.prototype.set=function(t,e){this._insert(t,e,!1)},t.prototype.containskey=function(t){return 0<=this._findEntry(t)},t}();r.join=function(t,e,r,n){var o=this;return v(function(u){var h=new i,c=!1,f=0,a=new E,l=!1,d=0,b=new E;return h.add(o.subscribe(function(t){var r,i,o,l=f++,d=new s;a.add(l,t),h.add(d),i=function(){return a.remove(l)&&0===a.count()&&c&&u.onCompleted(),h.remove(d)};try{r=e(t)}catch(p){return void u.onError(p)}d.disposable(r.take(1).subscribe(function(){},function(t){u.onError(t)},function(){i()})),r=b.getValues();for(var v=0;v<r.length;v++){try{o=n(t,r[v])}catch(y){u.onError(y);break}u.onNext(o)}},function(t){u.onError(t)},function(){c=!0,(l||0===a.count())&&u.onCompleted()})),h.add(t.subscribe(function(t){var e,i,o,c=d++,f=new s;b.add(c,t),h.add(f),i=function(){return b.remove(c)&&0===b.count()&&l&&u.onCompleted(),h.remove(f)};try{e=r(t)}catch(p){return void u.onError(p)}f.disposable(e.take(1).subscribe(function(){},function(t){u.onError(t)},function(){i()})),e=a.getValues();for(var v=0;v<e.length;v++){try{o=n(e[v],t)}catch(y){u.onError(y);break}u.onNext(o)}},function(t){u.onError(t)},function(){l=!0,(c||0===b.count())&&u.onCompleted()})),h})},r.groupJoin=function(t,e,r,n){var u=this;return v(function(c){var f=new i,a=new o(f),l=0,d=new E,b=0,p=new E;return f.add(u.subscribe(function(t){var r,i,o,u,b,v,y=l++,g=new h;d.add(y,g);try{o=n(t,k(g,a))}catch(E){for(u=d.getValues(),o=0;o<u.length;o++)u[o].onError(E);return void c.onError(E)}for(c.onNext(o),v=p.getValues(),o=0;o<v.length;o++)g.onNext(v[o]);b=new s,f.add(b),i=function(){d.remove(y)&&g.onCompleted(),f.remove(b)};try{r=e(t)}catch(m){for(u=d.getValues(),o=0;o<u.length;o++)u[o].onError(m);return void c.onError(m)}b.disposable(r.take(1).subscribe(function(){},function(t){var e;for(u=d.getValues(),e=0;e<u.length;e++)u[e].onError(t);c.onError(t)},function(){i()}))},function(t){var e,r;for(r=d.getValues(),e=0;e<r.length;e++)r[e].onError(t);c.onError(t)},function(){c.onCompleted()})),f.add(t.subscribe(function(t){var e,n,i,o,u;i=b++,p.add(i,t),u=new s,f.add(u),n=function(){p.remove(i),f.remove(u)};try{e=r(t)}catch(h){for(o=d.getValues(),e=0;e<o.length;e++)o[e].onError(h);return void c.onError(h)}for(u.disposable(e.take(1).subscribe(function(){},function(t){var e;for(o=d.getValues(),e=0;e<o.length;e++)o[e].onError(t);c.onError(t)},function(){n()})),o=d.getValues(),e=0;e<o.length;e++)o[e].onNext(t)},function(t){var e,r;for(r=d.getValues(),e=0;e<r.length;e++)r[e].onError(t);c.onError(t)})),a})},r.buffer=function(t,e){return"function"==typeof t?C(t).selectMany(function(t){return observableToArray(t)}):m(this,t,e).selectMany(function(t){return observableToArray(t)})},r.window=function(t,e){return"function"==typeof t?C.call(this,t):m.call(this,t,e)};var m=function(t,e){return t.groupJoin(this,e,function(){return p()},function(t,e){return e})},C=function(t){var e=this;return v(function(r){var n,c=new u,f=new i(c),a=new o(f),l=new h;return r.onNext(k(l,a)),f.add(e.subscribe(function(t){l.onNext(t)},function(t){l.onError(t),r.onError(t)},function(){l.onCompleted(),r.onCompleted()})),n=function(){var e,i;try{i=t()}catch(o){return void r.onError(o)}e=new s,c.disposable(e),e.disposable(i.take(1).subscribe(g,function(t){l.onError(t),r.onError(t)},function(){l.onCompleted(),l=new h,r.onNext(k(l,a)),n()}))},n(),a})}};
//# sourceMappingURL=jspm_packages\npm\rxjs@1.0.10621/lib\rx.coincidence.min.js.map