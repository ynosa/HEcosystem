/*
 Copyright (c) Microsoft Corporation.  All rights reserved.
 This code is licensed by Microsoft Corporation under the terms
 of the MICROSOFT REACTIVE EXTENSIONS FOR JAVASCRIPT AND .NET LIBRARIES License.
 See http://go.microsoft.com/fwlink/?LinkID=220762.
*/
module.exports=function(t,n){var e;e=t.Rx;var r=e.Observable,o=r.prototype,i=r.createWithDisposable,s=e.CompositeDisposable,u=function(t,n){return t===n},c=function(t){return t},f=function(t,n){return t>n?1:t===n?0:-1},h=function(t,n,e){return i(function(r){var o=!1,i=null,s=[];return t.subscribe(function(t){var u,c;try{c=n(t)}catch(f){return void r.onError(f)}if(u=0,o)try{u=e(c,i)}catch(h){return void r.onError(h)}else o=!0,i=c;u>0&&(i=c,s=[]),u>=0&&s.push(t)},function(t){r.onError(t)},function(){r.onNext(s),r.onCompleted()})})};o.aggregate=function(t,n){return this.scan(t,n).startWith(t).finalValue()},o.aggregate1=function(t){return this.scan1(t).finalValue()},o.any=function(t){var e=this;return t!==n?e.where(t).any():i(function(t){return e.subscribe(function(){t.onNext(!0),t.onCompleted()},function(n){t.onError(n)},function(){t.onNext(!1),t.onCompleted()})})},o.all=function(t){return this.where(function(n){return!t(n)}).any().select(function(t){return!t})},o.contains=function(t,n){return n||(n=u),this.where(function(e){return n(e,t)}).any()},o.count=function(){return this.aggregate(0,function(t){return t+1})},o.sum=function(){return this.aggregate(0,function(t,n){return t+n})},o.minBy=function(t,n){return n||(n=f),h(this,t,function(t,e){return-1*n(t,e)})};var a=function(t){if(0==t.length)throw Error("Sequence contains no elements.");return t[0]};o.min=function(t){return this.minBy(c,t).select(function(t){return a(t)})},o.maxBy=function(t,n){return n||(n=f),h(this,t,n)},o.max=function(t){return this.maxBy(c,t).select(function(t){return a(t)})},o.average=function(){return this.scan({sum:0,count:0},function(t,n){return{sum:t.sum+n,count:t.count+1}}).finalValue().select(function(t){return t.sum/t.count})},o.sequenceEqual=function(t,n){var e=this;return n||(n=u),i(function(r){var o=!1,i=!1,u=[],c=[],f=e.subscribe(function(t){var e,o;if(0<c.length){o=c.shift();try{e=n(o,t)}catch(s){return void r.onError(s)}e||(r.onNext(!1),r.onCompleted())}else i?(r.onNext(!1),r.onCompleted()):u.push(t)},function(t){r.onError(t)},function(){o=!0,0===u.length&&(0<c.length?(r.onNext(!1),r.onCompleted()):i&&(r.onNext(!0),r.onCompleted()))}),h=t.subscribe(function(t){var e,i;if(0<u.length){i=u.shift();try{e=n(i,t)}catch(s){return void r.onError(s)}e||(r.onNext(!1),r.onCompleted())}else o?(r.onNext(!1),r.onCompleted()):c.push(t)},function(t){r.onError(t)},function(){i=!0,0===c.length&&(0<u.length?(r.onNext(!1),r.onCompleted()):o&&(r.onNext(!0),r.onCompleted()))});return new s(f,h)})}};
//# sourceMappingURL=jspm_packages\npm\rxjs@1.0.10621/lib\rx.aggregates.min.js.map