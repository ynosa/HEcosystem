/**
 * dat-gui JavaScript Controller Library
 * http://code.google.com/p/dat-gui
 *
 * Copyright 2011 Data Arts Team, Google Creative Lab
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 */
var dat=module.exports=dat||{};dat.color=dat.color||{},dat.utils=dat.utils||{},dat.utils.common=function(){var t=Array.prototype.forEach,r=Array.prototype.slice;return{BREAK:{},extend:function(t){return this.each(r.call(arguments,1),function(r){for(var e in r)this.isUndefined(r[e])||(t[e]=r[e])},this),t},defaults:function(t){return this.each(r.call(arguments,1),function(r){for(var e in r)this.isUndefined(t[e])&&(t[e]=r[e])},this),t},compose:function(){var t=r.call(arguments);return function(){for(var e=r.call(arguments),n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},each:function(r,e,n){if(t&&r.forEach===t)r.forEach(e,n);else if(r.length===r.length+0){for(var i=0,s=r.length;s>i;i++)if(i in r&&e.call(n,r[i],i)===this.BREAK)return}else for(var i in r)if(e.call(n,r[i],i)===this.BREAK)return},defer:function(t){setTimeout(t,0)},toArray:function(t){return t.toArray?t.toArray():r.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){return t!==t},isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return t===!1||t===!0},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}}}(),dat.color.toString=function(t){return function(r){if(1==r.a||t.isUndefined(r.a)){for(var e=r.hex.toString(16);e.length<6;)e="0"+e;return"#"+e}return"rgba("+Math.round(r.r)+","+Math.round(r.g)+","+Math.round(r.b)+","+r.a+")"}}(dat.utils.common),dat.Color=dat.color.Color=function(t,r,e,n){function i(t,r,e){Object.defineProperty(t,r,{get:function(){return"RGB"===this.__state.space?this.__state[r]:(o(this,r,e),this.__state[r])},set:function(t){"RGB"!==this.__state.space&&(o(this,r,e),this.__state.space="RGB"),this.__state[r]=t}})}function s(t,r){Object.defineProperty(t,r,{get:function(){return"HSV"===this.__state.space?this.__state[r]:(a(this),this.__state[r])},set:function(t){"HSV"!==this.__state.space&&(a(this),this.__state.space="HSV"),this.__state[r]=t}})}function o(t,e,i){if("HEX"===t.__state.space)t.__state[e]=r.component_from_hex(t.__state.hex,i);else{if("HSV"!==t.__state.space)throw"Corrupted color state";n.extend(t.__state,r.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}}function a(t){var e=r.rgb_to_hsv(t.r,t.g,t.b);n.extend(t.__state,{s:e.s,v:e.v}),n.isNaN(e.h)?n.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h}var u=function(){if(this.__state=t.apply(this,arguments),this.__state===!1)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return u.COMPONENTS=["r","g","b","h","s","v","hex","a"],n.extend(u.prototype,{toString:function(){return e(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),i(u.prototype,"r",2),i(u.prototype,"g",1),i(u.prototype,"b",0),s(u.prototype,"h"),s(u.prototype,"s"),s(u.prototype,"v"),Object.defineProperty(u.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(u.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=r.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}}),u}(dat.color.interpret=function(t,r){var e,n,i=function(){n=!1;var t=arguments.length>1?r.toArray(arguments):arguments[0];return r.each(s,function(i){return i.litmus(t)?(r.each(i.conversions,function(i,s){return e=i.read(t),n===!1&&e!==!1?(n=e,e.conversionName=s,e.conversion=i,r.BREAK):void 0}),r.BREAK):void 0}),n},s=[{litmus:r.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var r=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null===r?!1:{space:"HEX",hex:parseInt("0x"+r[1].toString()+r[1].toString()+r[2].toString()+r[2].toString()+r[3].toString()+r[3].toString())}},write:t},SIX_CHAR_HEX:{read:function(t){var r=t.match(/^#([A-F0-9]{6})$/i);return null===r?!1:{space:"HEX",hex:parseInt("0x"+r[1].toString())}},write:t},CSS_RGB:{read:function(t){var r=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null===r?!1:{space:"RGB",r:parseFloat(r[1]),g:parseFloat(r[2]),b:parseFloat(r[3])}},write:t},CSS_RGBA:{read:function(t){var r=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null===r?!1:{space:"RGB",r:parseFloat(r[1]),g:parseFloat(r[2]),b:parseFloat(r[3]),a:parseFloat(r[4])}},write:t}}},{litmus:r.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:r.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3!=t.length?!1:{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4!=t.length?!1:{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:r.isObject,conversions:{RGBA_OBJ:{read:function(t){return r.isNumber(t.r)&&r.isNumber(t.g)&&r.isNumber(t.b)&&r.isNumber(t.a)?{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return r.isNumber(t.r)&&r.isNumber(t.g)&&r.isNumber(t.b)?{space:"RGB",r:t.r,g:t.g,b:t.b}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return r.isNumber(t.h)&&r.isNumber(t.s)&&r.isNumber(t.v)&&r.isNumber(t.a)?{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return r.isNumber(t.h)&&r.isNumber(t.s)&&r.isNumber(t.v)?{space:"HSV",h:t.h,s:t.s,v:t.v}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}];return i}(dat.color.toString,dat.utils.common),dat.color.math=function(){var t;return{hsv_to_rgb:function(t,r,e){var n=Math.floor(t/60)%6,i=t/60-Math.floor(t/60),s=e*(1-r),o=e*(1-i*r),a=e*(1-(1-i)*r),u=[[e,a,s],[o,e,s],[s,e,a],[s,o,e],[a,s,e],[e,s,o]][n];return{r:255*u[0],g:255*u[1],b:255*u[2]}},rgb_to_hsv:function(t,r,e){var n,i,s=Math.min(t,r,e),o=Math.max(t,r,e),a=o-s;return 0==o?{h:0/0,s:0,v:0}:(i=a/o,n=t==o?(r-e)/a:r==o?2+(e-t)/a:4+(t-r)/a,n/=6,0>n&&(n+=1),{h:360*n,s:i,v:o/255})},rgb_to_hex:function(t,r,e){var n=this.hex_with_component(0,2,t);return n=this.hex_with_component(n,1,r),n=this.hex_with_component(n,0,e)},component_from_hex:function(t,r){return t>>8*r&255},hex_with_component:function(r,e,n){return n<<(t=8*e)|r&~(255<<t)}}}(),dat.color.toString,dat.utils.common);
//# sourceMappingURL=jspm_packages\npm\dat-gui@0.5.0/vendor\dat.color.js.map